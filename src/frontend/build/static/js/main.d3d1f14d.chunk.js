(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],Array(63).concat([function(e,t){t.proccessOuterLayerMsg=function(e,t){switch(e.TYPE_OUTER){case"MSG":!function(e,t){switch(e.TYPE_INNER){case"API":var a=e.PAYLOAD.uuid4Key;localStorage.setItem(a,e.PAYLOAD.return_data);break;default:console.log("data.TYPE_INNER not found")}}(e.DATA);break;case"HEARTBEAT":break;default:console.log("TYPE_OUTER not found")}}},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a.n(c),s=a(40),o=a.n(s),i=(a(89),a(2)),l=(a(90),a(91),a(42)),u=a.n(l);a(92);var d=function(e){return Object(n.jsxs)("div",{className:"logoRoot",children:[Object(n.jsxs)("div",{className:"spanWrapper",children:[Object(n.jsx)("span",{style:{color:"green"},children:"De"}),Object(n.jsx)("span",{style:{color:"red"},children:"Censor"}),Object(n.jsx)("span",{style:{color:"green"},children:"Media"})]}),Object(n.jsx)("label",{className:"menuTag",htmlFor:e.for,children:Object(n.jsx)(u.a,{fontSize:"large"})})]})},j=(a(97),a(98),a(99),a(13));var m=function(e){return Object(n.jsx)("div",{className:"itemRoot",children:Object(n.jsx)(j.b,{to:e.to,children:Object(n.jsx)("span",{style:e.style,children:e.itemName})})})};var b=function(){return Object(n.jsx)("div",{className:"homeMenuRoot",children:Object(n.jsx)(m,{style:{color:"black"},to:"/",itemName:"Home"})})},p=(a(101),a(102),a(16)),h=a.n(p);var f=function(e){return Object(n.jsxs)("div",{className:"dropDownRoot",children:[Object(n.jsx)("input",{type:"checkbox",id:e.menuName+e.ckeckboxID}),Object(n.jsxs)("div",{className:"aTagAndIcon",children:[Object(n.jsx)(j.b,{to:e.to,style:e.style,children:Object(n.jsx)("span",{children:e.menuName})}),Object(n.jsx)("label",{className:"iconWrapper",htmlFor:e.menuName+e.ckeckboxID,children:Object(n.jsx)(h.a,{style:{color:"rgb(100,100,100)",fontSize:"20px"}})})]}),Object(n.jsx)("div",{className:"menuContent",children:e.children})]})},O="AUTH_SET_LOGIN_STATUS",g="AUTH_SET_TOKEN_STATUS",v="AUTH_SAVE_MY_USERNAME",x="LOGOUT",y="SUCCEED",N=a(10),w=a(6),C=a.n(w),S="wss://decensormedia.org/websocket",k="wss://decensormedia.org/websocket",T="https://decensormedia.org",R="https://decensormedia.org",I="6464",A="/api",L="".concat(T).concat(A),_="".concat(L).concat("/user"),E=("".concat(_,"/login"),"".concat(_,"/logout"),"".concat(L).concat("/item")),M=("".concat(E,"/image"),"".concat(L).concat("/address"),"".concat(L).concat("/order"),"".concat(L).concat("/food")),W=("".concat(M,"/getcategorylist"),"".concat(M,"/image"),"/blog"),D="".concat(L).concat(W),P="".concat(L).concat(W),G="".concat(L).concat("/contact"),F="".concat(L).concat("/chatroom"),V="".concat(L).concat("/message"),z="".concat(L).concat("/subscription"),U={headers:{"Content-Type":"application/json"}};var B=function(e,t){try{return e()}catch(a){return t}},H=function(e,t,a){if("function"===typeof e){var n=B(e,void 0);if(void 0!=n)return n}},Y=function(e,t,a){var n=B((function(){return e.response}),void 0);if(void 0!==n&&(void 0!==B((function(){return n.data}),void 0)&&void 0!==B((function(){return n.status}),void 0)&&void 0!==B((function(){return n.headers}),void 0))){var c=B((function(){return n.data.message}),void 0);if(void 0!==c){var r=B((function(){return n.data.error}),void 0);void 0!==r&&alert("error type : "+r+"  , message: "+c)}}},q={msgsContact:{},newMsgToggleSignalFn:null,newMsgReadyToggle:!1,unReadMsgCnt:{}},J={allContact:{}},K={allGroup:null,setAllGroup_CB:null},Q={allChatroom:null,setAllChatroom_CB:null},X={selectedContact:{webSocketUrl:null,hisID:null},setSelectedContact_CB:null},$={selectedGroup:null,setSelectedGroup_CB:null},Z={selectedChatroom:null,setSelectedChatroom_CB:null},ee={myUserName:null,myUserID:null,userImage:null},te="auth/actions.js",ae=function(e){return{type:O,data:{status:e}}},ne=function(e,t,a){return{type:v,data:{myUserName:e,userID:t,userImage:a}}},ce=function(){var e="authCheckTokenVaidAction";return function(t){var a=localStorage.getItem("token");if(a){C.a.post("".concat(_,"/?action=validate&token=").concat(a),JSON.stringify({}),U).then((function(a){if(!0===B((function(){return a.data.isValid}),void 0)){var n=H((function(){return a.data.querySet[0].username}),te,e,""),c=H((function(){return a.data.querySet[0].userID}),te,e,""),r=H((function(){return a.data.querySet[0].userImage}),te,e,"");t(ne(n,c,r)),ee.myUserID=c,ee.myUserName=n,ee.userImage=r,t(ae(y))}else t(ae(x))})).catch((function(a){localStorage.removeItem("token"),Y(a,te,e),t(ae(x))}))}}},re=function(){return function(e){var t=localStorage.getItem("token");if(console.log(t),t){C.a.post("".concat(_,"/?action=logout&token=").concat(t),JSON.stringify({}),U).then((function(t){localStorage.removeItem("token"),ee.myUserID=null,ee.myUserName=null,ee.userImage=null,e(ne(null,null,null)),e(ae(x))})).catch((function(t){ee.myUserID=null,ee.myUserName=null,ee.userImage=null,e(ne(null,null,null)),localStorage.removeItem("token"),e(ae(x)),Y(t,te,"authLogoutAction")}))}else e(ae(x))}},se="WEBSOCKET_CREATE",oe="WEBSOCKET_DESTROY",ie="WEBSOCKET_NEWMESSAGE",le="WEBSOCKET_SET_ISEXPANDMENU",ue="WEBSOCKET_SELECT_CONTACT",de="WEBSOCKET_SELECT_GROUP",je="WEBSOCKET_SET_CONTACTLIST",me="WEBRTC_SET_MEDIACALLSTATE",be="WEBRTC_SET_STREAM_REF",pe="WEBSOCKET_SET_ISSHOWPANEL",he=a(4),fe=a.n(he),Oe=a(5),ge=a(63),ve={sendHeartBeat2CloudServer:null,isHeartBeatReceived:null,websocketOnMessage:null,websocketOnOpen:null,websocketOnClose:null,websocketOnError:null,clearTimerEvents:null};ve.sendHeartBeat2CloudServer=function(e){var t={TO:{DOMAIN:R,PORT:I,ID:"cloudserver"},FROM:{DOMAIN:R,PORT:I,ID:"frontEndDevice"},TYPE_OUTER:"HEARTBEAT",DATA:{TYPE_INNER:"HEARTBEAT",PAYLOAD:"I miss you"}};e.send(JSON.stringify(t))},ve.isHeartBeatReceived=Object(Oe.a)(fe.a.mark((function e(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),ve.websocketOnMessage=function(e,t){var a=JSON.parse(t.data);Object(ge.proccessOuterLayerMsg)(a,e)},ve.websocketOnOpen=function(){var e=Object(Oe.a)(fe.a.mark((function e(t,a){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("on open, connection established"),{DOMAIN:R,PORT:I,ID:"cloudserver"},{DOMAIN:R,PORT:I,ID:"frontEndDevice"};case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ve.websocketOnError=function(e,t,a){return console.log(t),alert("websocketOnError : ".concat(t.reason)),a},ve.websocketOnClose=function(e,t,a){return console.log("disconnected from signaling server",t),alert("websocketOnClose : ".concat(t.reason)),a()},ve.clearTimerEvents=function(e){for(var t=0;t<e.length;t++)clearInterval(e[t])};var xe=function(){var e=Object(Oe.a)(fe.a.mark((function e(t){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){return setTimeout((function(){return e()}),1e3*t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){return function(e){e({type:oe,data:{websocketConn:null}})}},Ne=function(e){return function(t){t(function(e){return{type:ue,data:{isGroupChat:!1,isMyChatRoom:!1,isContactChat:!0,selectedContact:e}}}(e))}},we=function(e){return function(t){t(function(e){return{type:de,data:{isGroupChat:!0,isMyChatRoom:!1,isContactChat:!1,selectedGroup:e}}}(e))}},Ce=function(e){return function(t){t(function(e){return{type:le,data:{isExpandMenu:e}}}(e))}},Se=function(e){return function(t){t(function(e){return{type:ie,data:{newMsgReadyToggle:e}}}(e))}},ke=function(e){return function(t){t(function(e){return{type:me,data:{mediaCallState:e}}}(e))}},Te=function(e,t){return function(a){a({type:be,data:{localStream_ref:e,remoteStream_ref:t}})}},Re=function(e){return function(t){t(function(e){return{type:je,data:{allContactList_keyIsIpId:e}}}(e))}},Ie=function(e){return function(t){t(function(e){return{type:pe,data:{isShowPanel:e}}}(e))}};var Ae=Object(N.b)((function(e){return{loginStatus:e.auth.status}}),(function(e){return{authCheckTokenVaidAction:function(){return e(ce())},authLogoutAction:function(){return e(re())}}}))((function(e){var t="";return t=e.loginStatus===y?Object(n.jsx)(f,{menuName:"Account",style:{color:"black"},to:"#",children:Object(n.jsx)("div",{className:"logout item",onClick:function(t){!function(t){t.preventDefault(),e.authLogoutAction()}(t)},children:Object(n.jsx)(m,{style:{color:"white"},to:"/profile/login",itemName:"logout"})})}):Object(n.jsxs)(f,{menuName:"Account",style:{color:"black"},to:"#",children:[Object(n.jsx)("div",{className:"login item",children:Object(n.jsx)(m,{style:{color:"white"},to:"/profile/login",itemName:"login"})}),Object(n.jsx)("div",{className:"register item",children:Object(n.jsx)(m,{style:{color:"white"},to:"/profile/register",itemName:"registration"})})]}),Object(n.jsx)("div",{className:"profileMenuRoot",children:t})}));a(123);var Le=function(){return Object(n.jsx)("div",{className:"projectRepoRoot",children:Object(n.jsx)(m,{style:{color:"black"},to:"/project",itemName:"Project"})})},_e=(a(124),a(125),a(48)),Ee=a.n(_e);var Me=function(e){return Object(n.jsxs)("div",{className:"expandRightRoot",children:[Object(n.jsx)("input",{type:"checkbox",id:e.menuName+e.ckeckboxID}),Object(n.jsxs)("div",{className:"aTagAndIcon",children:[Object(n.jsx)(j.b,{to:e.to,children:Object(n.jsx)("span",{children:e.menuName})}),Object(n.jsx)("label",{className:"iconWrapper",htmlFor:e.menuName+e.ckeckboxID,children:Object(n.jsx)(Ee.a,{style:{color:"rgb(220,220,220)",fontSize:"20px"}})})]}),Object(n.jsx)("div",{className:"menuContent",children:e.children})]})};var We=function(){return Object(n.jsx)("div",{className:"CourseMenuRoot",children:Object(n.jsxs)(f,{menuName:"Courses",style:{color:"black"},to:"/course",children:[Object(n.jsx)("div",{className:"expand item",children:Object(n.jsxs)(Me,{menuName:"IT",style:{color:"white"},to:"/course",children:[Object(n.jsx)("div",{className:"blog item",children:Object(n.jsx)(m,{style:{color:"white"},to:"/course",itemName:"Javacript"})}),Object(n.jsx)("div",{className:"newblog item",children:Object(n.jsx)(m,{style:{color:"white"},to:"/course",itemName:"C Language"})}),Object(n.jsx)("div",{className:"newblog item",children:Object(n.jsx)(m,{style:{color:"white"},to:"/course",itemName:"Python"})})]})}),Object(n.jsx)("div",{className:"expand item",children:Object(n.jsxs)(Me,{menuName:"robotics",style:{color:"white"},to:"/course",children:[Object(n.jsx)("div",{className:"blog item",children:Object(n.jsx)(m,{style:{color:"white"},to:"/course",itemName:"slam"})}),Object(n.jsx)("div",{className:"newblog item",children:Object(n.jsx)(m,{style:{color:"white"},to:"/course",itemName:"visual slam"})}),Object(n.jsx)("div",{className:"newblog item",children:Object(n.jsx)(m,{style:{color:"white"},to:"/course",itemName:"VR"})}),Object(n.jsx)("div",{className:"newblog item",children:Object(n.jsx)(m,{style:{color:"white"},to:"/course",itemName:"AR"})})]})}),Object(n.jsx)("div",{className:"expand item",children:Object(n.jsxs)(Me,{menuName:"\u7f8e\u8853\u8a2d\u8a08",style:{color:"white"},to:"/course",children:[Object(n.jsx)("div",{className:"blog item",children:Object(n.jsx)(m,{style:{color:"white"},to:"/course",itemName:"\u7d20\u63cf"})}),Object(n.jsx)("div",{className:"blog item",children:Object(n.jsx)(m,{style:{color:"white"},to:"/course",itemName:"\u5c71\u6c34"})}),Object(n.jsx)("div",{className:"blog item",children:Object(n.jsx)(m,{style:{color:"white"},to:"/course",itemName:"\u82b1\u9ce5"})})]})}),Object(n.jsx)("div",{className:"blog item",children:Object(n.jsx)(m,{style:{color:"white"},to:"/course",itemName:"\u97f3\u6a02"})})]})})};a(126);var De=a(46),Pe=a(39),Ge=(a(127),a(128),a(22)),Fe=a(11);a(129);var Ve=function(e){return Object(n.jsxs)("div",{className:"contactRoot",children:[Object(n.jsx)("div",{className:"contactImageWrapper",children:Object(n.jsx)("img",{src:e.profileImg})}),Object(n.jsxs)("div",{className:"nameAndNotification",children:[Object(n.jsx)("p",{className:"name",children:Object(n.jsx)("span",{children:e.name})}),Object(n.jsx)("p",{className:"unReadMsgCnt",children:Object(n.jsx)("span",{children:e.unReadMsgCnt})})]})]})};a(130);var ze=function(e){return Object(n.jsxs)("div",{className:"groupRoot",children:[Object(n.jsx)("div",{className:"groupImageWrapper",children:Object(n.jsx)("img",{src:e.profileImg})}),Object(n.jsxs)("div",{className:"nameAndNotification",children:[Object(n.jsx)("p",{className:"groupName",children:e.Name}),Object(n.jsx)("p",{className:"notification",children:e.unReadMsgCnt})]})]})};a(131),a(132);var Ue=function(e){return Object(n.jsxs)("div",{className:"dropDownListRoot",children:[Object(n.jsx)("input",{type:"checkbox",id:e.menuName+e.ckeckboxID}),Object(n.jsxs)("div",{className:"aTagAndIcon",children:[Object(n.jsx)("p",{className:"aTag",style:e.style,children:Object(n.jsx)("span",{children:e.menuName})}),Object(n.jsx)("label",{className:"iconWrapper",htmlFor:e.menuName+e.ckeckboxID,style:e.style,onClick:e.cb,children:Object(n.jsx)(h.a,{style:{color:"white",fontSize:"20px"}})})]}),Object(n.jsx)("div",{className:"menuContent",children:e.children})]})};a(133);var Be=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),r=a[0],s=a[1];return Object(n.jsxs)("div",{className:"contactCategorySelRoot",children:[Object(n.jsxs)("div",{className:"aTagAndIcon",children:[Object(n.jsx)("a",{style:e.style,children:Object(n.jsx)("span",{children:e.menuName})}),Object(n.jsx)("div",{className:"iconWrapper",onClick:function(){s(!r)},children:Object(n.jsx)(h.a,{style:{color:"black",fontSize:"20px"}})})]}),Object(n.jsx)("div",{className:"menuContent",style:{display:1==r?"block":"none"},children:e.children})]})},He=a(64),Ye=a.n(He);var qe=Object(N.b)((function(e){return{login_status:e.auth.status,isTokenValid:e.auth.isTokenValid,newMsgReadyToggle:e.websocket.newMsgReadyToggle,selectedContact:e.websocket.selectedContact,selectedChatRoom:e.websocket.selectedChatRoom,selectedGroup:e.websocket.selectedGroup}}),(function(e){return{authCheckTokenVaidAction:function(){return e(ce())},authLogoutAction:function(){return e(re())},selectContactAction:function(t){return e(Ne(t))},selectGroupAction:function(t){return e(we(t))},selectMyChatRoomAction:function(t){return e((a=t,function(e){e(function(e){return{type:"WEBSOCKET_SELECT_MYCHATROOM",data:{isGroupChat:!1,isMyChatRoom:!0,isContactChat:!1,selectedChatRoom:e}}}(a))}));var a},setContactListAction:function(t){return e(Re(t))},setIsShowPanelAction:function(t){return e(Ie(t))}}}))((function(e){var t="Panel.js",a=Object(c.useState)({socketUrl:S,id:"HanMeiMei",name:"\u97d3\u6885\u6885",image:"meihua.png",category_id:0,categoryArrayIndex:"",token2AccessHim:"",tokenAssigned2Him:""}),r=Object(i.a)(a,2),s=r[0],o=r[1],l=Object(c.useState)({socketUrl:S,id:"MeiGroup",name:"\u97d3\u6885\u6885",image:"meihua.png"}),u=Object(i.a)(l,2),d=u[0],j=u[1],m=Object(c.useState)({roomName:"MeiGroup",image:"meihua.png"}),b=Object(i.a)(m,2),p=b[0],f=b[1],O=Object(c.useState)(!1),g=Object(i.a)(O,2),v=g[0],x=g[1],N=Object(c.useState)(!1),w=Object(i.a)(N,2),k=w[0],T=w[1],R=Object(c.useState)(!1),I=Object(i.a)(R,2),A=I[0],L=I[1],_=Object(c.useState)([]),E=Object(i.a)(_,2),M=E[0],W=E[1],D=Object(c.useState)([]),P=Object(i.a)(D,2),V=P[0],z=P[1],q=Object(c.useState)([]),J=Object(i.a)(q,2),te=J[0],ae=J[1],ne=Object(c.useState)(1),ce=Object(i.a)(ne,2),re=ce[0],se=ce[1],oe=Object(c.useState)([]),ie=Object(i.a)(oe,2),le=ie[0],ue=ie[1],de=Object(c.useState)(),je=Object(i.a)(de,2),me=je[0],be=je[1],pe=Object(c.useState)(),he=Object(i.a)(pe,2),ge=he[0],ve=he[1];Object(c.useEffect)((function(){return X.setSelectedContact_CB=Pe,$.setSelectedGroup_CB=He,Z.setSelectedChatroom_CB=qe,K.setAllGroup_CB=ye,Q.setAllChatroom_CB=Ne,function(){}}),[]);var ye=function(e){K.allGroup=e},Ne=function(e){Q.allChatroom=e},we=function a(){var n=a.name;C.a.get("".concat(G,"/category"),U).then((function(e){for(var a=H((function(){return e.data.querySet}),t,n),c=0;c<a.length;c++)le.push(!1);if(ue(le),W(a),0!=H((function(){return a.length}),t,n)){var r=H((function(){return a[0]}),t,n);be(r.name),s.categoryArrayIndex=0,s.category_id=r.id,o(s)}})).catch((function(a){Y(a,t,n,"getContactCategoryItemList",e.authLogoutAction)}))},Ce=function(t,a){var n=localStorage.getItem("token"),c="".concat(G,"/?token=").concat(n,"&category_id=").concat(a);C.a.get(c,U).then((function(e){var a=B((function(){return e.data.querySet}),void 0);void 0==a&&alert("@Panel.js getItemList , querySet is undefined"),M[t].contactArray=a,W(M)})).catch((function(t){Y(t,"Panel.js","getContactCategoryItemList",e.authLogoutAction)}))},Se=function(){var t=localStorage.getItem("token");C.a.get("".concat(G,"/group?token=").concat(t),U).then((function(e){var t=B((function(){return e.data.querySet}),void 0);void 0==t&&alert("@Panel.js getGroupItemList , querySet is undefined"),z(t)})).catch((function(t){Y(t,"Panel.js","getGroupItemList",e.authLogoutAction)}))},ke=function(){var e="getMyChatRoomList",a=localStorage.getItem("token");C.a.get("".concat(F,"?token=").concat(a),U).then((function(a){var n=B((function(){return a.data.querySet}),void 0);void 0==n&&alert("@".concat(t,", ").concat(e," querySet is undefined")),ae(n)})).catch((function(a){Y(a,t,e)}))},Te=function(){var a=Object(Oe.a)(fe.a.mark((function a(n){var c,r,o;return fe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),c="handleAddNewContactRequest",console.log(t,c,"newContact = ",s),e.authCheckTokenVaidAction(),r=localStorage.getItem("token"),o={name:s.name,hisID:s.id,webSocketUrl:s.socketUrl,image:s.image,category_id:s.category_id,tokenAssigned2Him:s.tokenAssigned2Him,token2AccessHim:s.token2AccessHim},console.log(t,c,"formDataObj = ",o),C.a.post("".concat(G,"?token=").concat(r),JSON.stringify(o),U).then((function(e){Ce(s.categoryArrayIndex,s.category_id)})).catch((function(a){Y(a,t,c,e.authLogoutAction)})),a.next=10,xe(.3);case 10:se(re>2e3?1e3:re+1);case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),Re=function(e){e.preventDefault();var t=e.target.name,a=e.target.value;o(Object(Fe.a)(Object(Fe.a)({},s),Object(Ge.a)({},t,a)))},Ie=function(e){e.preventDefault();var t=e.target.name,a=e.target.value;j(Object(Fe.a)(Object(Fe.a)({},d),Object(Ge.a)({},t,a)))},Ae=function(e){e.preventDefault();var t=e.target.name,a=e.target.value;f(Object(Fe.a)(Object(Fe.a)({},p),Object(Ge.a)({},t,a)))},Le=function(){var t=Object(Oe.a)(fe.a.mark((function t(){return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.login_status!=y){t.next=8;break}return e.authCheckTokenVaidAction(),we(),t.next=5,xe(.3);case 5:se(re>2e3?1:re+1),t.next=8;break;case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_e=function(){var t=Object(Oe.a)(fe.a.mark((function t(){return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.login_status!=y){t.next=8;break}return e.authCheckTokenVaidAction(),Se(),t.next=5,xe(.3);case 5:se(re>2e3?1e3:re+1),t.next=9;break;case 8:z([]);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ee=function(){var t=Object(Oe.a)(fe.a.mark((function t(){return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.login_status!=y){t.next=8;break}return e.authCheckTokenVaidAction(),ke(),t.next=5,xe(.3);case 5:se(re>2e3?1e3:re+1),t.next=9;break;case 8:ae([]);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Me=function(){var t=Object(Oe.a)(fe.a.mark((function t(a,n){return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(a,n),le[a]=!le[a],ue(le),e.login_status!=y){t.next=9;break}return e.authCheckTokenVaidAction(),Ce(a,n),t.next=8,xe(.3);case 8:se(re>2e3?1:re+1);case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),We=function(){var a=Object(Oe.a)(fe.a.mark((function a(n){var c,r;return fe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),"handleAddNewGroupRequest",e.authCheckTokenVaidAction(),c=localStorage.getItem("token"),r={name:d.name,hisID:d.id,webSocketUrl:d.socketUrl,image:d.image},C.a.post("".concat(G,"/group?token=").concat(c),JSON.stringify(r),U).then((function(e){Se()})).catch((function(a){Y(a,t,"handleAddNewGroupRequest",e.authLogoutAction)})),a.next=8,xe(.3);case 8:se(re>2e3?1e3:re+1);case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),De=function(){var a=Object(Oe.a)(fe.a.mark((function a(n){var c,r;return fe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),"handleCreateNewGroupRequest",e.authCheckTokenVaidAction(),c=localStorage.getItem("token"),r={roomName:p.roomName,image:p.image},C.a.post("".concat(F,"/?token=").concat(c),JSON.stringify(r),U).then((function(e){ke()})).catch((function(a){Y(a,t,"handleCreateNewGroupRequest",e.authLogoutAction)})),a.next=8,xe(.3);case 8:se(re>2e3?1e3:re+1);case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),Pe=function(t){X.selectedContact=t,e.selectContactAction(t),e.setIsShowPanelAction(!1)},He=function(t){e.selectGroupAction(t),e.setIsShowPanelAction(!1)};Object(c.useEffect)((function(){return X.selectedGroup=e.selectedGroup,function(){}}),[e.selectedGroup]);var qe=function(t){e.selectMyChatRoomAction(t),e.setIsShowPanelAction(!1)};return Object(c.useEffect)((function(){return X.selectedChatRoom=e.selectedChatRoom,function(){}}),[e.selectedChatRoom]),Object(c.useEffect)((function(){return function(){}}),[e.newMsgReadyToggle]),Object(n.jsxs)("div",{className:"panelRoot",children:[Object(n.jsx)("input",{className:"searchBar",type:"text",placeholder:"Search"}),Object(n.jsxs)("div",{className:"whoAmI",children:[Object(n.jsx)("div",{className:"myImageWrapper",children:Object(n.jsx)("img",{src:ee.userImage,alt:""})}),Object(n.jsxs)("p",{className:"userName",children:[" ",ee.myUserName," "]})]}),Object(n.jsx)("div",{className:"contactListWrapper",children:Object(n.jsxs)(Ue,{menuName:"Contact",style:{color:"white"},cb:Le,children:[Object(n.jsxs)("div",{className:"addNewContact categoryWrapper",children:[Object(n.jsxs)("div",{className:"titleNicon",children:[Object(n.jsx)("p",{className:"title",children:Object(n.jsx)("span",{children:"add contact"})}),Object(n.jsx)("div",{className:"iconWrapper",onClick:function(){x(!v)},children:Object(n.jsx)(h.a,{style:{color:"white",fontSize:"20px"}})})]}),Object(n.jsxs)("form",{className:"dropDownContent",onSubmit:Te,autoComplete:"off",style:{display:1==v?"block":"none"},children:[Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("span",{children:"ws url"})}),Object(n.jsx)("div",{className:"inputWrapper",children:Object(n.jsx)("input",{type:"text",value:s.socketUrl,name:"socketUrl",placeholder:"the socketURL",onChange:Re})})]}),Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("span",{children:"ID"})}),Object(n.jsx)("div",{className:"inputWrapper",children:Object(n.jsx)("input",{type:"text",value:s.id,name:"id",placeholder:"name or ID",onChange:Re})})]}),Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("span",{children:"name"})}),Object(n.jsx)("div",{className:"inputWrapper",children:Object(n.jsx)("input",{type:"text",value:s.name,name:"name",placeholder:"name",onChange:Re})})]}),Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("span",{children:"image"})}),Object(n.jsx)("div",{className:"inputWrapper",children:Object(n.jsx)("input",{type:"text",value:s.image,name:"image",placeholder:"image url of newContact",onChange:Re})})]}),Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("span",{children:"token1"})}),Object(n.jsx)("div",{className:"inputWrapper",children:Object(n.jsx)("input",{type:"text",value:s.token2AccessHim,name:"token2AccessHim",placeholder:"token to access contact",onChange:Re})})]}),Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("span",{children:"token2"})}),Object(n.jsx)("div",{className:"inputWrapper",children:Object(n.jsx)("input",{type:"text",value:s.tokenAssigned2Him,name:"tokenAssigned2Him",placeholder:"token given to contact",onChange:Re})})]}),Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("span",{children:"category"})}),Object(n.jsx)("div",{className:"inputWrapper",children:Object(n.jsxs)(Be,{menuName:me,children:[M.map((function(e,t){return Object(n.jsx)("p",{className:"contactCategorySel_item",onClick:function(){return function(e,t){console.log(e,t),be(e.name),s.categoryArrayIndex=t,s.category_id=e.id,o(s)}(e,t)},children:Object(n.jsx)("span",{children:e.name})},t)})),Object(n.jsxs)("div",{className:"addNewCategory contactCategorySel_item",children:[Object(n.jsx)("div",{className:"addNewCategoryInputWrapper",children:Object(n.jsx)("input",{type:"text",value:ge,name:"newCategoryName",placeholder:"input a new category",onChange:function(e){e.preventDefault();var t=e.target.value;ve(t)}})}),Object(n.jsx)("div",{className:"AddiconWrapper",onClick:function(){e.authCheckTokenVaidAction();var a=localStorage.getItem("token"),n={name:ge};C.a.post("".concat(G,"/category?token=").concat(a),JSON.stringify(n),U).then((function(e){we()})).catch((function(a){Y(a,t,"handleSubmitAddNewContactCategoryToserver",e.authLogoutAction)}))},children:Object(n.jsx)(Ye.a,{style:{color:"white",fontSize:"20px"}})})]})]})})]}),Object(n.jsx)("div",{className:"submitBottonWrapper",children:Object(n.jsx)("input",{type:"submit",value:"add"})})]})]}),M.map((function(e,t){return Object(n.jsxs)("div",{className:"categoryWrapper",children:[Object(n.jsxs)("div",{className:"nameNicoWrapper",children:[Object(n.jsx)("p",{className:"menuName",style:{color:"white"},children:Object(n.jsx)("span",{children:e.name})}),Object(n.jsx)("div",{className:"iconWrapper",onClick:function(){return Me(t,e.id)},children:Object(n.jsx)(h.a,{style:{color:"white",fontSize:"20px"}})})]}),Object(n.jsx)("div",{className:"dropDownClick",style:{display:0==le[t]?"none":"block"},children:e.contactArray.map((function(e,t){return Object(n.jsx)("div",{className:"contact",onClick:function(){Pe(e)},children:Object(n.jsx)(Ve,{profileImg:e.image,name:e.name,unReadMsgCnt:10})},t+re)}))})]},t)}))]})}),Object(n.jsx)("div",{className:"groupListWrapper contactListWrapper",children:Object(n.jsxs)(Ue,{menuName:"Group",style:{color:"white"},cb:_e,children:[Object(n.jsxs)("div",{className:"addNewContact categoryWrapper",children:[Object(n.jsxs)("div",{className:"titleNicon",children:[Object(n.jsx)("p",{className:"title",children:Object(n.jsx)("span",{children:"join group"})}),Object(n.jsx)("div",{className:"iconWrapper",onClick:function(){T(!k)},children:Object(n.jsx)(h.a,{style:{color:"white",fontSize:"20px"}})})]}),Object(n.jsxs)("form",{className:"dropDownContent",onSubmit:We,autoComplete:"off",style:{display:1==k?"block":"none"},children:[Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("span",{children:"ws url"})}),Object(n.jsx)("div",{className:"inputWrapper",children:Object(n.jsx)("input",{type:"text",value:d.socketUrl,name:"url",onChange:Ie})})]}),Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("span",{children:"ID"})}),Object(n.jsx)("div",{className:"inputWrapper",children:Object(n.jsx)("input",{type:"text",value:d.id,name:"id",placeholder:"name or ID",onChange:Ie})})]}),Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("span",{children:"name"})}),Object(n.jsx)("div",{className:"inputWrapper",children:Object(n.jsx)("input",{type:"text",value:d.name,name:"name",placeholder:"name",onChange:Ie})})]}),Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("span",{children:"image"})}),Object(n.jsx)("div",{className:"inputWrapper",children:Object(n.jsx)("input",{type:"text",value:d.image,name:"image",placeholder:"image url of group",onChange:Ie})})]}),Object(n.jsx)("div",{className:"submitBottonWrapper",children:Object(n.jsx)("input",{type:"submit",value:"add"})})]})]}),V.map((function(e,t){return Object(n.jsx)("div",{className:"group",onClick:function(){return He(e)},children:Object(n.jsx)(ze,{profileImg:e.image,Name:e.name,unReadMsgCnt:"10"})},t+re)}))]})}),Object(n.jsx)("div",{className:"groupListWrapper contactListWrapper",children:Object(n.jsxs)(Ue,{menuName:"MyGroup",style:{color:"white"},cb:Ee,children:[Object(n.jsxs)("div",{className:"addNewContact categoryWrapper",children:[Object(n.jsxs)("div",{className:"titleNicon",children:[Object(n.jsx)("p",{className:"title",children:Object(n.jsx)("span",{children:" create group"})}),Object(n.jsx)("div",{className:"iconWrapper",onClick:function(){L(!A)},children:Object(n.jsx)(h.a,{style:{color:"white",fontSize:"20px"}})})]}),Object(n.jsxs)("form",{className:"dropDownContent",onSubmit:De,autoComplete:"off",style:{display:1==A?"block":"none"},children:[Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("span",{children:"name"})}),Object(n.jsx)("div",{className:"inputWrapper",children:Object(n.jsx)("input",{type:"text",value:p.roomName,name:"roomName",placeholder:"room name",onChange:Ae})})]}),Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("span",{children:"image"})}),Object(n.jsx)("div",{className:"inputWrapper",children:Object(n.jsx)("input",{type:"text",value:p.image,name:"image",placeholder:"image",onChange:Ae})})]}),Object(n.jsx)("div",{className:"submitBottonWrapper",children:Object(n.jsx)("input",{type:"submit",value:"create"})})]})]}),te.map((function(e,t){return Object(n.jsx)("div",{className:"group",onClick:function(){return qe(e)},children:Object(n.jsx)(ze,{profileImg:e.image,Name:e.roomName,unReadMsgCnt:"10"})},t+re)}))]})})]})})),Je=(a(134),a(26)),Ke=a.n(Je),Qe=a(29),Xe=a.n(Qe),$e=a(30),Ze=a.n($e),et=a(31),tt=a.n(et),at=a(32),nt=a.n(at),ct=a(33),rt=a.n(ct),st="idle",ot="inVideoCall",it="inVoiceCall",lt="mediaCallReceived",ut=(a(135),"global_webRTC.js"),dt=function(){var e=Object(Oe.a)(fe.a.mark((function e(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Closing the call"),mt.webRTC_inst&&(console.log("closing webRTC_inst ..."),mt.whoAmI="",mt.webRTC_inst.ontrack=null,mt.webRTC_inst.onnicecandidate=null,mt.webRTC_inst.oniceconnectionstatechange=null,mt.webRTC_inst.onsignalingstatechange=null,mt.webRTC_inst.onicegatheringstatechange=null,mt.webRTC_inst.onnotificationneeded=null,mt.webRTC_inst.getTransceivers().forEach((function(e){e.stop()})),console.log("Transceivers closed ..."),mt.localStream&&mt.localStream.getTracks().forEach((function(e){e.stop()})),console.log("local stream closed ..."),mt.remoteStream&&mt.remoteStream.getTracks().forEach((function(e){e.stop()})),console.log("remote stream closed ..."),mt.webRTC_inst.close(),mt.webRTC_inst=null,mt.localStream=null,mt.remoteStream=null);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jt=function(){var e=Object(Oe.a)(fe.a.mark((function e(){var t;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt();case 2:(t=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]})).onicecandidate=pt,t.ontrack=ht,t.onnegotiationneeded=ft,t.oniceconnectionstatechange=Ot,t.onicegatheringstatechange=gt,t.onsignalingstatechange=vt,mt.webRTC_inst=t;case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mt={webRTC_inst:"",socket_conn:"",localStream:"",remoteStream:"",localVideoCom_ref:"",remoteVideoCom_ref:"",closeCall:dt,whoAmI:"",mediaCallState:st,createPeerConnection:jt},bt=function(){var e=Object(Oe.a)(fe.a.mark((function e(t,a){var n,c,r;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="sendMsg(payload)",a){e.next=4;break}return alert("empty input detected"),e.abrupt("return");case 4:if(c=X.selectedContact,mt.socket_conn){e.next=8;break}return alert("in ".concat(ut,",function ").concat(n,", websocketConn is empty, please connect to server via websocket")),e.abrupt("return");case 8:r=H((function(){return mt.socket_conn.readyState}),ut,n,""),console.log(r),console.log("selectedContact.webSocketUrl = ".concat(c.webSocketUrl,", selectedContact.hisID = ").concat(c.hisID,"  ")),console.log("selectedContact.webSocketUrl = ".concat(c.webSocketUrl,", selectedContact.hisID = ").concat(c.hisID,"  ")),mt.socket_conn.send(JSON.stringify({TO:{URL:c.webSocketUrl,ID:"".concat(c.hisID)},FROM:{URL:k,ID:ee.myUserName,CATEGORY:"CONTACT"},TYPE_OUTER:"MSG",DATA:{TYPE_INNER:t,PAYLOAD:a}}));case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),pt=function(e){if(e.candidate){var t=new RTCIceCandidate(e.candidate);console.log("handleICECandidateEvent, receive local icecandidates, and send it to remote peer"),mt.myIceCandidate=t,bt("candidate",t)}},ht=function(e){console.log("****** handleTrackEvent......."),console.log("*******************************************************"),console.log("*******************************************************"),console.log("******* got new stream from remote peer",e.streams[0]),console.log("*******************************************************"),console.log("*******************************************************"),mt.remoteVideoCom_ref.current.srcObject=e.streams[0],mt.remoteStream=e.streams[0]},ft=function(){var e=Object(Oe.a)(fe.a.mark((function e(){var t;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("******* handleNegotiationNeededEvent"),"caller"!==mt.whoAmI&&alert("you must be a caller to trigger handleNegotiationNeededEvent, check webRTC logic flow"),e.prev=2,e.next=5,mt.webRTC_inst.createOffer();case 5:return t=e.sent,e.next=8,mt.webRTC_inst.setLocalDescription(t);case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(2),console.log(e.t0),alert(e.t0),e.abrupt("return");case 15:bt("offer",t);case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),Ot=function(e){switch(console.log("******* handleICEConnectionStateChangeEvent"),mt.webRTC_inst.iceConnectionState){case"closed":case"failed":case"disconnected":dt()}},gt=function(e){console.log("****** handleICEGatheringStateChangeEvent")},vt=function(e){switch(console.log("***** handleSignalingStateChangeEvent"),mt.webRTC_inst.signalingState){case"closed":dt()}},xt=a(65),yt=a.n(xt),Nt=a(66),wt=a.n(Nt),Ct=a(67),St=a.n(Ct);var kt=Object(N.b)((function(e){return{login_status:e.auth.status,isTokenValid:e.auth.isTokenValid,websocketConn:e.websocket.websocketConn,myUserName:e.auth.myUserName,toggleSignal:e.websocket.toggleSignal,newMsgReadyToggle:e.websocket.newMsgReadyToggle,selectedContact:e.websocket.selectedContact,mediaCallState:e.websocket.mediaCallState}}),(function(e){return{authLogoutAction:function(){return e(re())},authCheckTokenVaidAction:function(){return e(ce())},destroyWebsocketAction:function(){return e(ye())},setWebRTCmediaCallStateAction:function(t){return e(ke(t))},setWebRTCstreamRefAction:function(t,a){return e(Te(t,a))},setIsShowPanelAction:function(t){return e(Ie(t))}}}))((function(e){var t=Object(c.useState)(!0),a=Object(i.a)(t,2),r=a[0],s=(a[1],Object(c.useState)([])),o=Object(i.a)(s,2),l=(o[0],o[1],Object(c.useRef)(null)),u=Object(c.useState)("meihua.png"),d=Object(i.a)(u,2),j=(d[0],d[1],Object(c.useState)("\u97e9\u6885\u6885")),m=Object(i.a)(j,2),b=(m[0],m[1],Object(c.useState)("IMU")),p=Object(i.a)(b,2),h=p[0],f=(p[1],Object(c.useState)([])),O=Object(i.a)(f,2),g=(O[0],O[1],Object(c.useState)(!1)),v=Object(i.a)(g,2),x=(v[0],v[1],Object(c.useState)(e.selectedContact)),N=Object(i.a)(x,2),w=(N[0],N[1],Object(c.useRef)(null)),S="ChatAreaContact.js",T=!0,R=!1,I=Object(c.useRef)(null),A=Object(c.useRef)(null),L=Object(c.useState)(""),_=Object(i.a)(L,2);_[0],_[1],Object(c.useEffect)((function(){var t=function(e){13===e.keyCode&&e.ctrlKey&&M(e)};return e.setWebRTCstreamRefAction(A,I),mt.remoteVideoCom_ref=I,mt.localVideoCom_ref=A,document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[]);var E=function(){var t=Object(Oe.a)(fe.a.mark((function t(a,n){var c,r,s;return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c="sendMsg(payload)",n){t.next=4;break}return alert("empty input detected"),t.abrupt("return");case 4:return e.authCheckTokenVaidAction(),t.next=7,xe(1);case 7:if(e.login_status===y){t.next=10;break}return alert("please log in"),t.abrupt("return");case 10:if(mt.socket_conn){t.next=13;break}return alert("in ".concat(S,",function ").concat(c,", websocketConn is empty, please connect to server via websocket")),t.abrupt("return");case 13:if(r=H((function(){return mt.socket_conn.readyState}),S,c,""),console.log(r),1==r){t.next=20;break}return mt.socket_conn.close(),e.destroyWebsocketAction(),alert("refresh the page to connect to server again"),t.abrupt("return");case 20:s=X.selectedContact,mt.socket_conn.send(JSON.stringify({TO:{URL:s.webSocketUrl,ID:"".concat(s.hisID)},FROM:{URL:k,ID:"".concat(e.myUserName),CATEGORY:"CONTACT"},TYPE_OUTER:"MSG",DATA:{TYPE_INNER:a,PAYLOAD:n}}));case 22:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),M=function(e){E("MSG",l.current.innerHTML),l.current.innerHTML=""};Object(c.useEffect)((function(){var t=B((function(){return q.msgsContact["".concat(e.selectedContact.webSocketUrl,"+").concat(e.selectedContact.hisID)]}),void 0);if(e.mediaCallState===st&&(w.current.innerHTML="",void 0!=t))for(var a=t,n=0;n<a.length;n++){var c=document.createElement("div");a[n].direction==T?c.className="incomingMsg":a[n].direction==R&&(c.className="outgoingMsg");var r=document.createElement("div");r.className="msg",r.innerHTML=a[n].MSG,c.appendChild(r),w.current.appendChild(c)}return function(){}}),[e.newMsgReadyToggle]),Object(c.useEffect)((function(){var t=e.selectedContact;return e.mediaCallState===st&&(w.current.innerHTML=""),1==q.msgsContact.hasOwnProperty("".concat(t.webSocketUrl,"+").concat(t.hisID))?function(e,t,a,n){var c="fetchLastNMsg_contact",r={params:{contact_id:e,user_id:t,token:localStorage.getItem("token"),status:"unread",offset:0,pageLen:0}};C.a.get("".concat(V,"/contact"),r).then((function(e){var t=H((function(){return e.data}),S,c,"").querySet.slice().reverse();t.push.apply(t,Object(De.a)(q.msgsContact["".concat(a,"+").concat(n)])),q.msgsContact["".concat(a,"+").concat(n)]=t,q.newMsgToggleSignalFn(!q.newMsgReadyToggle)})).catch((function(e){Y(e,S,c)}))}(t.id,t.user_id,t.webSocketUrl,t.hisID):function(e,t,a,n){var c="fetchLastNMsg_contact",r={params:{contact_id:e,user_id:t,token:localStorage.getItem("token"),status:"all",offset:0,pageLen:30}};C.a.get("".concat(V,"/contact"),r).then((function(e){var t=H((function(){return e.data}),S,c,"");q.msgsContact["".concat(a,"+").concat(n)]=t.querySet,q.newMsgToggleSignalFn(!q.newMsgReadyToggle)})).catch((function(e){Y(e,S,c)}))}(t.id,t.user_id,t.webSocketUrl,t.hisID),function(){}}),[e.selectedContact]);var W=function(e){switch(e.name){case"NotFoundError":alert("Unable to open your call because no camera and/or microphonewere found.");break;case"SecurityError":case"PermissionDeniedError":break;default:alert("Error opening your camera and/or microphone: "+e.message)}},D=function(){var t=Object(Oe.a)(fe.a.mark((function t(){return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.mediaCallState===st){t.next=3;break}return alert("still in call,please hand off current call before start a new call"),t.abrupt("return");case 3:return e.setWebRTCmediaCallStateAction(ot),t.next=6,P(!0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P=function(){var e=Object(Oe.a)(fe.a.mark((function e(t){var a,n,c,r,s;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mt.whoAmI="caller",e.next=3,mt.createPeerConnection();case 3:return a={video:t,audio:!0},e.prev=4,e.next=7,navigator.mediaDevices.getUserMedia(a);case 7:n=e.sent,e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(4),W(e.t0),e.abrupt("return");case 14:mt.localStream=n,A.current.srcObject=n,c=Object(Pe.a)(n.getTracks()),e.prev=17,c.s();case 19:if((r=c.n()).done){e.next=25;break}return s=r.value,e.next=23,mt.webRTC_inst.addTrack(s,n);case 23:e.next=19;break;case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(17),c.e(e.t1);case 30:return e.prev=30,c.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[4,10],[17,27,30,33]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var t=Object(Oe.a)(fe.a.mark((function t(){return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.mediaCallState===st){t.next=3;break}return alert("still in call,please hand off current call before start a new call"),t.abrupt("return");case 3:return e.setWebRTCmediaCallStateAction(it),t.next=6,P(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),F=function(){var t=Object(Oe.a)(fe.a.mark((function t(){return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mt.closeCall();case 2:e.setWebRTCmediaCallStateAction(st),mt.mediaCallState=st;case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();console.log("mediaCallState = ",e.mediaCallState);var z=Object(n.jsxs)("div",{className:"videoCallArea",style:{display:e.mediaCallState!==st?"grid":"none"},children:[Object(n.jsx)("div",{className:"remoteWindow",children:Object(n.jsx)("video",{className:"remoteStreamVideo",ref:I,autoPlay:!0})}),Object(n.jsx)("div",{className:"localWindow",children:Object(n.jsx)("video",{className:"localStreamVideo",ref:A,autoPlay:!0})}),Object(n.jsx)("div",{className:"acceptVideo",onClick:function(){e.setWebRTCmediaCallStateAction(ot),mt.mediaCallState=ot},children:Object(n.jsx)(Ke.a,{style:{color:"green",fontSize:"30px"}})}),Object(n.jsx)("div",{className:"answer",onClick:function(){e.setWebRTCmediaCallStateAction(it),mt.mediaCallState=it},children:Object(n.jsx)(yt.a,{style:{color:"green",fontSize:"30px"}})}),Object(n.jsx)("div",{className:"deny",onClick:F,children:Object(n.jsx)(wt.a,{style:{color:"red",fontSize:"30px"}})})]}),U=Object(n.jsx)("div",{className:"messageArea",ref:w,style:{display:e.mediaCallState===st?"flex":"none"}});return Object(n.jsxs)("div",{className:"chatAreaContactRoot",children:[Object(n.jsxs)("div",{className:"contactProfile",children:[Object(n.jsx)("div",{className:"profileImg",children:Object(n.jsx)("img",{src:e.selectedContact.image})}),Object(n.jsx)("p",{className:"contactName",children:e.selectedContact.name}),Object(n.jsx)("a",{className:"sayUsayMe",href:"#",children:h}),Object(n.jsx)("div",{className:"videoCall",onClick:D,children:Object(n.jsx)(Ke.a,{style:{color:"white",fontSize:"25px"}})}),Object(n.jsx)("div",{className:"voiceCall",onClick:G,children:Object(n.jsx)(Xe.a,{style:{color:"white",fontSize:"25px"}})}),Object(n.jsx)("div",{className:"voiceCall",onClick:function(){e.setIsShowPanelAction(!0)},children:Object(n.jsx)(St.a,{style:{color:"white",fontSize:"25px"}})}),Object(n.jsx)("div",{className:"more",children:Object(n.jsx)(Ze.a,{style:{color:"white",fontSize:"25px"}})})]}),z,U,Object(n.jsxs)("div",{className:"textInput",children:[Object(n.jsx)("div",{className:"sendFileIcon",children:Object(n.jsx)(tt.a,{style:{color:"white",fontSize:"30px"}})}),Object(n.jsx)("div",{className:"typeTextHere",contentEditable:r,onInput:function(e){},ref:l}),Object(n.jsx)("div",{className:"emoji",children:Object(n.jsx)(nt.a,{style:{color:"rgb(235, 228, 137)",fontSize:"30px"}})}),Object(n.jsx)("div",{className:"sendIcon",onClick:M,children:Object(n.jsx)(rt.a,{style:{color:"white",fontSize:"30px"}})})]})]})}));a(136);var Tt=function(e){var t=Object(c.useState)(!0),a=Object(i.a)(t,2),r=a[0],s=(a[1],Object(c.useState)([])),o=Object(i.a)(s,2),l=(o[0],o[1],Object(c.useRef)(null)),u=Object(c.useState)("meihua.png"),d=Object(i.a)(u,2),j=d[0],m=d[1],b=Object(c.useState)("\u97e9\u6885\u6885"),p=Object(i.a)(b,2),h=p[0],f=p[1],O=Object(c.useState)("IMU"),g=Object(i.a)(O,2),v=g[0],x=g[1];return Object(c.useEffect)((function(){return m("meihua.png"),f("\u97e9\u6885\u6885groupChat"),x("IMU"),function(){}}),[]),Object(c.useEffect)((function(){return function(){}}),[e.toggleSignal]),Object(n.jsxs)("div",{className:"chatAreaGroupRoot",children:[Object(n.jsxs)("div",{className:"contactProfile",children:[Object(n.jsx)("div",{className:"profileImg",children:Object(n.jsx)("img",{src:j,width:"50px",height:"50px"})}),Object(n.jsx)("p",{className:"contactName",children:h}),Object(n.jsx)("a",{className:"sayUsayMe",href:"#",children:v}),Object(n.jsx)("div",{className:"videoCall",children:Object(n.jsx)(Ke.a,{style:{color:"white",fontSize:"30px"}})}),Object(n.jsx)("div",{className:"voiceCall",children:Object(n.jsx)(Xe.a,{style:{color:"white",fontSize:"30px"}})}),Object(n.jsx)("div",{className:"more",children:Object(n.jsx)(Ze.a,{style:{color:"white",fontSize:"30px"}})})]}),Object(n.jsx)("div",{className:"messageArea"}),Object(n.jsxs)("div",{className:"textInput",children:[Object(n.jsx)("div",{className:"sendFileIcon",children:Object(n.jsx)(tt.a,{style:{color:"white",fontSize:"30px"}})}),Object(n.jsx)("div",{className:"typeTextHere",contentEditable:r,onInput:function(e){},ref:l}),Object(n.jsx)("div",{className:"emoji",children:Object(n.jsx)(nt.a,{style:{color:"rgb(235, 228, 137)",fontSize:"30px"}})}),Object(n.jsx)("div",{className:"sendIcon",children:Object(n.jsx)(rt.a,{style:{color:"white",fontSize:"30px"}})})]})]})};a(137);var Rt=function(e){var t=Object(c.useState)(!0),a=Object(i.a)(t,2),r=a[0],s=(a[1],Object(c.useState)([])),o=Object(i.a)(s,2),l=(o[0],o[1],Object(c.useRef)(null)),u=Object(c.useState)("meihua.png"),d=Object(i.a)(u,2),j=(d[0],d[1],Object(c.useState)("\u97e9\u6885\u6885")),m=Object(i.a)(j,2),b=(m[0],m[1],Object(c.useState)("IMU")),p=Object(i.a)(b,2),h=p[0];return p[1],Object(n.jsxs)("div",{className:"chatAreaMyGroupRoot",children:[Object(n.jsxs)("div",{className:"contactProfile",children:[Object(n.jsx)("div",{className:"profileImg",children:Object(n.jsx)("img",{src:e.MyChatRoom.image,width:"50px",height:"50px"})}),Object(n.jsx)("p",{className:"contactName",children:e.MyChatRoom.roomName}),Object(n.jsx)("a",{className:"sayUsayMe",href:"#",children:h}),Object(n.jsx)("div",{className:"videoCall",children:Object(n.jsx)(Ke.a,{style:{color:"white",fontSize:"30px"}})}),Object(n.jsx)("div",{className:"voiceCall",children:Object(n.jsx)(Xe.a,{style:{color:"white",fontSize:"30px"}})}),Object(n.jsx)("div",{className:"more",children:Object(n.jsx)(Ze.a,{style:{color:"white",fontSize:"30px"}})})]}),Object(n.jsx)("div",{className:"messageArea"}),Object(n.jsxs)("div",{className:"textInput",children:[Object(n.jsx)("div",{className:"sendFileIcon",children:Object(n.jsx)(tt.a,{style:{color:"white",fontSize:"30px"}})}),Object(n.jsx)("div",{className:"typeTextHere",contentEditable:r,onInput:function(e){},ref:l}),Object(n.jsx)("div",{className:"emoji",children:Object(n.jsx)(nt.a,{style:{color:"rgb(235, 228, 137)",fontSize:"30px"}})}),Object(n.jsx)("div",{className:"sendIcon",children:Object(n.jsx)(rt.a,{style:{color:"white",fontSize:"30px"}})})]})]})};var It=Object(N.b)((function(e){return{toggleSignal:e.websocket.toggleSignal,selectedContact:e.websocket.selectedContact,selectedGroup:e.websocket.selectedGroup,isGroupChat:e.websocket.isGroupChat,isMyChatRoom:e.websocket.isMyChatRoom,isContactChat:e.websocket.isContactChat,selectedChatRoom:e.websocket.selectedChatRoom}}),(function(e){return{}}))((function(e){var t="";return t=1==e.isGroupChat?Object(n.jsx)(Tt,{}):1==e.isContactChat?Object(n.jsx)(kt,{selectedContact:e.selectedContact}):1==e.isMyChatRoom?Object(n.jsx)(Rt,{selectedChatRoom:e.selectedChatRoom}):"",Object(n.jsx)("div",{className:"chatAreaRoot",children:t})}));a(138);var At=Object(N.b)((function(e){return{isShowPanel:e.websocket.isShowPanel}}),(function(e){return{}}))((function(e){return Object(n.jsxs)("div",{className:"smallDeviceViewRoot",children:[Object(n.jsx)("div",{className:"panelWrapper",style:{display:!0===e.isShowPanel?"block":"none"},children:Object(n.jsx)(qe,{})}),Object(n.jsx)("div",{className:"chatAreaWrapper",style:{display:!0===e.isShowPanel?"none":"block"},children:Object(n.jsx)(It,{})})]})}));a(139);var Lt=function(e){return Object(n.jsxs)("div",{className:"largeDeviceViewRoot",children:[Object(n.jsx)("div",{className:"panelWrapper",children:Object(n.jsx)(qe,{})}),Object(n.jsx)("div",{className:"chatAreaWrapper",children:Object(n.jsx)(It,{})})]})};a(140);var _t=function(e){var t,a=Object(c.useState)(window.innerWidth),r=Object(i.a)(a,2),s=r[0],o=r[1];Object(c.useEffect)((function(){return window.addEventListener("resize",l),function(){window.removeEventListener("resize",l)}}),[]);var l=function(){o(window.innerWidth)};return t=s<600?Object(n.jsx)(At,{}):Object(n.jsx)(Lt,{}),Object(n.jsx)("div",{className:"chatViewRoot",children:t})};var Et=Object(N.b)((function(e){return{sock_conn:e.websocket.sock_conn,login_status:e.auth.status}}),(function(e){return{setIsShowPanelAction:function(t){return e(Ie(t))}}}))((function(e){var t;return Object(c.useEffect)((function(){return function(){}}),[]),t=Object(n.jsx)(_t,{}),Object(n.jsxs)("div",{className:"peerChatRoot",children:[Object(n.jsx)("input",{type:"checkbox",id:"peersChatMenuDrawerChk"}),Object(n.jsx)("label",{className:"labelForpeersChatMenuDrawerChk",for:"peersChatMenuDrawerChk",children:Object(n.jsx)(u.a,{style:{color:"rgb(100,50,200)",fontSize:"30px"}})}),Object(n.jsx)("div",{className:"peerChatDrawer",children:Object(n.jsx)("button",{className:"go2Panel",onClick:function(){e.setIsShowPanelAction(!0)},children:"Contact&Group List"})}),Object(n.jsx)("div",{className:"peersChatContent",children:t})]})})),Mt=a(43),Wt=a.n(Mt);var Dt=Object(N.b)((function(e){return{selectedContact:e.websocket.selectedContact,selectedGroup:e.websocket.selectedGroup,selectedChatRoom:e.websocket.selectedChatRoom,toggleSignal:e.websocket.toggleSignal,status:e.auth.status,newMsgReadyToggle:e.websocket.newMsgReadyToggle,isInVideoCall:e.websocket.isInVideoCall,myUserName:e.auth.myUserName,sock_conn:e.websocket.sock_conn,mediaCallState:e.websocket.mediaCallState,remoteStream_ref:e.websocket.remoteStream_ref,localStream_ref:e.websocket.localStream_ref,allContactList_keyIsIpId:e.websocket.allContactList_keyIsIpId}}),(function(e){return{destroyWebsocketAction:function(){return e(ye())},setIsExpandChatMenuAction:function(t){return e(Ce(t))},setNewMsgToggleAction:function(t){return e(Se(t))},authCheckTokenVaidAction:function(){return e(ce())},setWebRTCmediaCallStateAction:function(t){return e(ke(t))},setContactListAction:function(t){return e(Re(t))}}}))((function(e){var t="PeersChatMenu.js",a=Object(c.useState)(!1),r=Object(i.a)(a,2),s=r[0],o=r[1],l=(Object(c.useRef)(null),Object(c.useRef)(null),Object(c.useRef)(null),Object(c.useState)("")),u=Object(i.a)(l,2),d=(u[0],u[1],Object(c.useState)("")),j=Object(i.a)(d,2),m=(j[0],j[1],Object(c.useState)("false")),b=Object(i.a)(m,2),p=(b[0],b[1]);Object(c.useEffect)((function(){return window.isExpandMenu=s,function(){}}),[s]),Object(c.useEffect)((function(){return 1==s&&o(!1),function(){}}),[e.toggleChatMenu]);var h=function(){var e=localStorage.getItem("token");mt.socket_conn=new WebSocket("".concat(S,"/?token=").concat(e)),mt.socket_conn.onmessage=function(e){g(mt.socket_conn,e)},mt.socket_conn.onopen=function(e){v(mt.socket_conn,e)},mt.socket_conn.onerror=function(e){x(mt.socket_conn,e)},mt.socket_conn.onclose=function(e){N(mt.socket_conn,e)}};Object(c.useEffect)((function(){return q.newMsgToggleSignalFn=f,e.status===y&&(O(),h()),function(){}}),[]),Object(c.useEffect)((function(){return e.status===y?(O(),h()):(mt.socket_conn&&(mt.socket_conn.close(),mt.socket_conn=""),e.destroyWebsocketAction()),function(){}}),[e.status]),Object(c.useEffect)((function(){e.mediaCallState===ot||e.mediaCallState===it||e.mediaCallState===lt||e.setWebRTCmediaCallStateAction(st)}),[e.mediaCallState]);var f=function(t){e.setNewMsgToggleAction(t)};Object(c.useEffect)((function(){return function(){}}),[e.isInVideoCall]),Object(c.useEffect)((function(){return q.newMsgReadyToggle=e.newMsgReadyToggle,function(){}}),[e.newMsgReadyToggle]);var O=function(){var a="getAllContactList",n={params:{category_id:null,token:localStorage.getItem("token")}};C.a.get("".concat(G),n).then((function(n){for(var c=H((function(){return n.data.querySet}),t,a),r={},s=0;s<c.length;++s){var o=c[s],i=o.webSocketUrl,l=o.hisID;r["".concat(i,"+").concat(l)]=o}e.setContactListAction(r),J.allContact=r})).catch((function(e){Y(e,t,a)}))},g=function(e,t){var a=JSON.parse(t.data);w(a,e)},v=function(){var e=Object(Oe.a)(fe.a.mark((function e(t,a){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("on open, connection established");case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),x=function(e,t){console.log("webSocketEvents.websocketOnError, ".concat(t)),alert("websocketOnError : ".concat(t.reason))},N=function(t,a){console.log("webSocketEvents.websocketOnClose ",a),e.status===y&&setTimeout((function(){h()}),1e3)},w=function(e,t){switch(e.TYPE_OUTER){case"MSG":T(e,t);break;case"HEARTBEAT":case"EROOR":break;default:console.log("TYPE_OUTER not found")}},T=function(e,a){switch(H((function(){return e.FROM.CATEGORY}),t,"processInnerLayerMsg(msg, socket_conn)","")){case"CONTACT":R(e,a);break;case"GROUP":I(e,a);break;case"CHATROOM":A(e,a);break;default:console.log("FROM.CATEGORY is not supported ")}},R=function(e,a){var n="processInnerLayerMsg_CONTACT",c=e.DATA;H((function(){return e.FROM.URL}),t,n,"");switch(c.TYPE_INNER){case"ERROR":alert(c.PAYLOAD);break;case"NEW_MSG_NOTIFICATION":var r=H((function(){return X.selectedContact}),t,n,"");"".concat(e.FROM.URL,"+").concat(e.FROM.ID)=="".concat(r.webSocketUrl,"+").concat(r.hisID)?(1==q.msgsContact.hasOwnProperty("".concat(e.FROM.URL,"+").concat(e.FROM.ID))?function(e,a,n){var c="fetechUnreadMsg_contact",r={params:{contact_id:e,user_id:a,token:localStorage.getItem("token"),status:"unread",offset:0,pageLen:0}};C.a.get("".concat(V,"/contact"),r).then((function(e){var a=H((function(){return e.data}),t,c,"").querySet.slice().reverse();a.push.apply(a,Object(De.a)(q.msgsContact["".concat(n.FROM.URL,"+").concat(n.FROM.ID)])),q.msgsContact["".concat(n.FROM.URL,"+").concat(n.FROM.ID)]=a,q.newMsgToggleSignalFn(!q.newMsgReadyToggle)})).catch((function(e){Y(e,t,c)}))}(r.id,r.user_id,e):function(e,a,n){var c="fetchLastNMsg_contact",r={params:{contact_id:e,user_id:a,token:localStorage.getItem("token"),status:"all",offset:0,pageLen:30}};C.a.get("".concat(V,"/contact"),r).then((function(e){var a=H((function(){return e.data}),t,c,"");q.msgsContact["".concat(n.FROM.URL,"+").concat(n.FROM.ID)]=a.querySet,q.newMsgToggleSignalFn(!q.newMsgReadyToggle)})).catch((function(e){Y(e,t,c)}))}(r.id,r.user_id,e),q.unReadMsgCnt["".concat(e.FROM.URL,"+").concat(e.FROM.ID)]=0):(1==q.unReadMsgCnt.hasOwnProperty("".concat(e.FROM.URL,"+").concat(e.FROM.ID))?q.unReadMsgCnt["".concat(e.FROM.URL,"+").concat(e.FROM.ID)]+=e.DATA.PAYLOAD.numOfUnreadMsg:q.unReadMsgCnt["".concat(e.FROM.URL,"+").concat(e.FROM.ID)]=e.DATA.PAYLOAD.numOfUnreadMsg,q.newMsgToggleSignalFn(!q.newMsgReadyToggle));break;case"offer":console.log("onReceiveOffer"),L(e);break;case"answer":console.log("onReceiveAnswer");var s=c.PAYLOAD;_(s);break;case"candidate":console.log("onCandidate");var o=c.PAYLOAD;E(o);break;default:console.log("data.TYPE_INNER not found")}},I=function(e,t){},A=function(e,t){},L=function(){var a=Object(Oe.a)(fe.a.mark((function a(n){var c,r,s,o,i,l,u,d,j,m,b,h;return fe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c="onReceiveOffer",mt.whoAmI="callee",r=n.DATA.PAYLOAD,H((function(){return X.selectedContact}),t,c,""),s=H((function(){return J.allContact["".concat(n.FROM.URL,"+").concat(n.FROM.ID)]}),t,c,""),X.setSelectedContact_CB(s),X.selectedContact=s,p(!0),e.setWebRTCmediaCallStateAction(lt),a.next=11,mt.createPeerConnection();case 11:return o=new RTCSessionDescription(r),a.prev=12,a.next=15,mt.webRTC_inst.setRemoteDescription(o);case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(12),console.log(a.t0);case 20:i=!1,l=0;case 22:if(!(l<15)){a.next=31;break}return a.next=25,xe(1);case 25:if(mt.mediaCallState!==ot&&mt.mediaCallState!==it){a.next=28;break}return i=!0,a.abrupt("break",31);case 28:l++,a.next=22;break;case 31:if(!1!==i){a.next=36;break}return mt.closeCall(),e.setWebRTCmediaCallStateAction(st),alert("not answered"),a.abrupt("return");case 36:return"stable"!=mt.webRTC_inst.signalingState&&console.log(" ***** signaling is not stable"),u={video:!0,audio:!0},a.prev=38,a.next=41,navigator.mediaDevices.getUserMedia(u);case 41:d=a.sent,j=Object(Pe.a)(d.getTracks()),a.prev=43,j.s();case 45:if((m=j.n()).done){a.next=51;break}return b=m.value,a.next=49,mt.webRTC_inst.addTrack(b,d);case 49:a.next=45;break;case 51:a.next=56;break;case 53:a.prev=53,a.t1=a.catch(43),j.e(a.t1);case 56:return a.prev=56,j.f(),a.finish(56);case 59:return mt.localStream=d,mt.localVideoCom_ref.current.srcObject=d,a.next=63,mt.webRTC_inst.createAnswer();case 63:return h=a.sent,a.next=66,mt.webRTC_inst.setLocalDescription(h);case 66:M("answer",h),a.next=72;break;case 69:a.prev=69,a.t2=a.catch(38),console.log(a.t2);case 72:case"end":return a.stop()}}),a,null,[[12,17],[38,69],[43,53,56,59]])})));return function(e){return a.apply(this,arguments)}}(),_=function(){var e=Object(Oe.a)(fe.a.mark((function e(t){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("received answer, adding remote SDP"),"have-local-offer"==mt.webRTC_inst.signalingState){e.next=5;break}return console.log(" ***** should have have-local-offer before receiving an answer,logically wrong,ie, you should send offer before getting an answer "),alert(" ***** should have have-local-offer before receiving an answer,logically wrong, ie, you should send offer before getting an answer "),e.abrupt("return");case 5:return e.prev=5,e.next=8,mt.webRTC_inst.setRemoteDescription(new RTCSessionDescription(t));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),console.error("error adding remote SDP ");case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(Oe.a)(fe.a.mark((function e(t){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt.webRTC_inst.addIceCandidate(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var a=Object(Oe.a)(fe.a.mark((function a(n,c){var r,s,o;return fe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r="sendMsg(payload)",c){a.next=4;break}return alert("empty input detected"),a.abrupt("return");case 4:if(s=X.selectedContact,mt.socket_conn){a.next=8;break}return alert("in ".concat(t,",function ").concat(r,", webRTC_inst_obj.socket_conn is empty, please connect to server via websocket")),a.abrupt("return");case 8:if(o=H((function(){return mt.socket_conn.readyState}),t,r,""),console.log(o),1==o){a.next=15;break}return mt.socket_conn.close(),e.destroyWebsocketAction(),alert("refresh the page to connect to server again"),a.abrupt("return");case 15:mt.socket_conn.send(JSON.stringify({TO:{URL:s.webSocketUrl,ID:"".concat(s.hisID)},FROM:{URL:k,ID:"".concat(e.myUserName),CATEGORY:"CONTACT"},TYPE_OUTER:"MSG",DATA:{TYPE_INNER:n,PAYLOAD:c}}));case 16:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"peersChatMenuRoot",children:[Object(n.jsx)("p",{className:"PeersChat",style:{color:"black"},onClick:function(){o(!s),e.setIsExpandChatMenuAction(!s)},children:Object(n.jsx)("span",{children:"PeersChat"})}),Object(n.jsxs)("div",{className:"chatViewRoot",style:{display:1==s?"block":"none"},children:[Object(n.jsx)("div",{className:"topBar",children:Object(n.jsx)("div",{className:"closeIconWrapper",onClick:function(){o(!1),e.setIsExpandChatMenuAction(!1)},children:Object(n.jsx)(Wt.a,{style:{color:"white",fontSize:"20px"}})})}),Object(n.jsx)("div",{className:"chatContainer",children:Object(n.jsx)(Et,{})})]})]})}));a(141);var Pt=function(){return Object(n.jsx)("div",{className:"blogMenuRoot",children:Object(n.jsxs)(f,{menuName:"blog",style:{color:"black"},to:"/blog",children:[Object(n.jsx)("div",{className:"blog item",children:Object(n.jsx)(m,{style:{color:"white"},to:"/blog",itemName:"blog list"})}),Object(n.jsx)("div",{className:"newblog item",children:Object(n.jsx)(m,{style:{color:"white"},to:"/blog/newblog",itemName:"new blog"})}),Object(n.jsx)("div",{className:"blog item",children:Object(n.jsx)(m,{style:{color:"white"},to:"/blog/followme",itemName:"follow me"})})]})})};a(142);var Gt=function(){return Object(n.jsx)("div",{className:"galleryMenuRoot",children:Object(n.jsx)(m,{style:{color:"black"},to:"/gallery",itemName:"Gallery"})})};a(143);var Ft=function(){return Object(n.jsx)("div",{className:"mySubscriptionRoot",children:Object(n.jsxs)(f,{menuName:"Subscriptions",style:{color:"black"},to:"/subscription",children:[Object(n.jsx)("div",{className:"blog item",children:Object(n.jsx)(m,{style:{color:"white"},to:"/subscription",itemName:"Subscriptions"})}),Object(n.jsx)("div",{className:"newblog item",children:Object(n.jsx)(m,{style:{color:"white"},to:"/newsubscription",itemName:"add subscription"})})]})})};var Vt=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],s=function(){r(!a)};return Object(n.jsxs)("div",{className:"menuRoot",children:[Object(n.jsx)("div",{className:"home munuItem",onClick:s,children:Object(n.jsx)(b,{})}),Object(n.jsx)("div",{className:"peersChat munuItem",children:Object(n.jsx)(Dt,{toggleChatMenu:a})}),Object(n.jsx)("div",{className:"course munuItem expandItem",onClick:s,children:Object(n.jsx)(We,{})}),Object(n.jsx)("div",{className:"profile munuItem expandItem",onClick:s,children:Object(n.jsx)(Ae,{})}),Object(n.jsx)("div",{className:"about munuItem expandItem",onClick:s,children:Object(n.jsx)(Pt,{})}),Object(n.jsx)("div",{className:"contactUs munuItem expandItem",onClick:s,children:Object(n.jsx)(Ft,{})}),Object(n.jsx)("div",{className:"contactUs munuItem",onClick:s,children:Object(n.jsx)(Gt,{})}),Object(n.jsx)("div",{className:"contactUs munuItem",onClick:s,children:Object(n.jsx)(Le,{})})]})};var zt=function(){return Object(n.jsxs)("div",{className:"navigationBarRoot",children:[Object(n.jsx)("input",{className:"ckeckbox",type:"checkbox",id:"checkBoxForMenuTag"}),Object(n.jsx)("div",{className:"logoWrapper",children:Object(n.jsx)(d,{for:"checkBoxForMenuTag"})}),Object(n.jsx)("div",{className:"menuWrapper",children:Object(n.jsx)(Vt,{})})]})};a(144);var Ut=function(){return Object(n.jsxs)("div",{className:"footerRoot",children:[Object(n.jsx)("div",{className:"iamgeWrapper",children:Object(n.jsx)("img",{src:"/Home/brian-kyed-Qm4yrKLiawY-unsplash.jpg",alt:""})}),Object(n.jsx)("p",{className:"text1",children:Object(n.jsx)("span",{children:"Helping others"})}),Object(n.jsx)("p",{className:"text2",children:Object(n.jsx)("span",{children:"Helps yourselves"})})]})},Bt=(a(145),a(12)),Ht=(a(146),a(9)),Yt=a.n(Ht),qt=a(24),Jt=a.n(qt);a(147);var Kt=function(e){var t=Object(c.useRef)(),a=Object(c.useRef)(null),r=Object(c.useState)(200),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(c.useState)(200),d=Object(i.a)(u,2),j=d[0],m=d[1];return Object(c.useEffect)((function(){l(a.current.clientWidth),m(a.current.clientHeight);var e="https://decensormedia.org/hls/sample1_360p.m3u8",n={autoStartLoad:!0,startPosition:-1,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,defaultAudioCodec:void 0,initialLiveManifestSize:1,maxBufferLength:30,maxMaxBufferLength:600,maxBufferSize:6e7,maxBufferHole:.5,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveDurationInfinity:!1,liveBackBufferLength:1/0,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{}},c="";Jt.a.isSupported()?(console.log("hello hls.js"),(c=new Jt.a(n)).detachMedia(),c.attachMedia(t.current),c.on(Jt.a.Events.MEDIA_ATTACHED,(function(){console.log("video and hls.js are now bound together !"),c.loadSource(e),c.on(Jt.a.Events.FRAG_PARSED,(function(e,a){t.current.play()})),c.on(Jt.a.Events.ERROR,(function(e,t){if(t.fatal)switch(t.type){case Jt.a.ErrorTypes.NETWORK_ERROR:console.log("fatal network error encountered, try to recover"),c.startLoad();break;case Jt.a.ErrorTypes.MEDIA_ERROR:console.log("fatal media error encountered, try to recover"),c.recoverMediaError();break;default:c.destroy()}}))}))):t.current.canPlayType("application/vnd.apple.mpegurl")?t.current.src=e:alert("please use a modern browser to play the video");var r=function(){l(a.current.clientWidth),m(a.current.clientHeight)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r),c&&c.destroy()}}),[]),Object(n.jsx)("div",{className:"vodPlayerRoot",ref:a,children:Object(n.jsx)("video",{className:"videoPlayer",controls:e.controls,preload:"auto",ref:t,width:o,height:j,autoPlay:e.autoPlay})})};var Qt=function(e){var t=Object(c.useState)(),a=Object(i.a)(t,2),r=(a[0],a[1],Object(c.useState)()),s=Object(i.a)(r,2),o=s[0],l=(s[1],Object(c.useState)(!1)),u=Object(i.a)(l,2),d=u[0],j=u[1],m=Object(c.useState)(0),b=Object(i.a)(m,2),p=b[0],h=(b[1],Object(c.useRef)(null)),f=function(e){window.playerWidth=h.current.clientWidth,window.playerHeight=h.current.clientHeight,j(!0)},O="";return!0===d?(console.log("re-rendering .... "),console.log(o,"  ",window.playerWidth),O=Object(n.jsx)("div",{className:"imageWrapper",ref:h,children:Object(n.jsx)(Kt,{m3u8url:"http://localhost:3000/hls/sample1_360p.m3u8",controls:!0,autoPlay:!0})},p)):O=Object(n.jsxs)("div",{className:"imageWrapper",ref:h,children:[Object(n.jsx)("p",{className:"banFromSocialMedia",children:"Ban Trump from social media :) LOL"}),Object(n.jsx)("div",{className:"image",children:Object(n.jsx)("img",{src:"Home/banTrump.png",onClick:f})}),Object(n.jsx)("svg",{width:"56",height:"56",viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",class:"playerSymbol",onClick:f,children:Object(n.jsxs)("g",{fill:"#FFF","fill-rule":"evenodd",children:[Object(n.jsx)("path",{d:"M28 53c13.807 0 25-11.193 25-25S41.807 3 28 3 3 14.193 3 28s11.193 25 25 25zm0 3C12.536 56 0 43.464 0 28S12.536 0 28 0s28 12.536 28 28-12.536 28-28 28z"}),Object(n.jsx)("path",{d:"M37.232 27.91L22 36.82V19z"})]})})]}),Object(n.jsxs)("div",{className:"Home",children:[Object(n.jsxs)("div",{className:"Banner",children:[Object(n.jsx)("div",{className:"imageWrapper",children:Object(n.jsx)("img",{src:"/Home/banner.jpg",alt:""})}),Object(n.jsxs)("div",{className:"textArea",children:[Object(n.jsx)("p",{className:"header1",children:Object(n.jsx)("span",{children:"SOCIAL MEDIA REVOLUTION"})}),Object(n.jsx)("p",{className:"header2",children:Object(n.jsx)("span",{children:"replace social media apps with your own website"})}),Object(n.jsxs)("div",{className:"bulletPoint firstRow",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"whitesmoke",fontSize:"20px"}})}),Object(n.jsx)("p",{className:"buletText",children:Object(n.jsx)("span",{children:"peer to peer communication & encryption"})})]}),Object(n.jsxs)("div",{className:"bulletPoint ",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"whitesmoke",fontSize:"20px"}})}),Object(n.jsx)("p",{className:"buletText",children:Object(n.jsx)("span",{children:"store privacy at home"})})]}),Object(n.jsxs)("div",{className:"bulletPoint",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"whitesmoke",fontSize:"20px"}})}),Object(n.jsxs)("p",{className:"buletText",children:[Object(n.jsx)("span",{className:"emphas",children:"NO"})," ",Object(n.jsx)("span",{children:"Censorship"})]})]}),Object(n.jsxs)("div",{className:"bulletPoint",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"whitesmoke",fontSize:"20px"}})}),Object(n.jsxs)("p",{className:"buletText",children:[Object(n.jsx)("span",{className:"emphas",children:"NO"})," ",Object(n.jsx)("span",{children:"data collection"})]})]}),Object(n.jsxs)("div",{className:"bulletPoint ",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"whitesmoke",fontSize:"20px"}})}),Object(n.jsxs)("p",{className:"buletText",children:[Object(n.jsx)("span",{className:"emphas",children:"decentralized "})," ",Object(n.jsx)("span",{children:"as human nature"})]})]}),Object(n.jsxs)("div",{className:"bulletPoint ",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"whitesmoke",fontSize:"20px"}})}),Object(n.jsx)("p",{className:"buletText",children:Object(n.jsx)("span",{children:"your website, your garden, your business, your kingdom"})})]}),Object(n.jsxs)("div",{className:"bulletPoint ",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"whitesmoke",fontSize:"20px"}})}),Object(n.jsx)("p",{className:"buletText",children:Object(n.jsx)("span",{children:"we teach you how to build such open system"})})]}),Object(n.jsx)("div",{className:"click2Watch",children:"watch video"})]})]}),Object(n.jsxs)("div",{className:"socialMeidaPig",children:[Object(n.jsx)("div",{className:"left",children:Object(n.jsx)("img",{src:"/Home/pig.jpg",alt:""})}),Object(n.jsxs)("div",{className:"right",children:[Object(n.jsxs)("div",{className:"textContainer",children:[Object(n.jsx)("p",{className:"header1",children:Object(n.jsx)("span",{children:"We give pig free food for their meat"})}),Object(n.jsx)("p",{className:"header1",children:Object(n.jsx)("span",{children:"Big-tech companies give us free social media for "})}),Object(n.jsx)("p",{className:"header1",children:Object(n.jsx)("span",{children:"our privacy, control, money ... "})}),Object(n.jsx)("p",{className:"header2 header2-1",children:Object(n.jsx)("span",{children:"there is no free meal"})}),Object(n.jsx)("p",{className:"header2",children:Object(n.jsx)("span",{style:{color:"red"},children:"freedom is never free"})}),Object(n.jsx)("p",{className:"header2 header2-2",children:Object(n.jsx)("span",{children:"spend more time with our own"})}),Object(n.jsx)("p",{className:"header2",children:Object(n.jsx)("span",{children:"websites"})}),Object(n.jsx)("p",{className:"header2",children:Object(n.jsx)("span",{children:"it brings us real gold"})})]}),Object(n.jsx)("div",{className:"imageWrapper"})]})]}),Object(n.jsxs)("div",{className:"ecosystem",children:[Object(n.jsx)("div",{className:"imageWrapperMain",children:Object(n.jsx)("img",{src:"/Home/randy-tarampi-U2eUlPEKIgU-unsplash.jpg",alt:""})}),Object(n.jsx)("p",{className:"header1",children:Object(n.jsx)("span",{children:"Business opportunity for all"})}),Object(n.jsxs)("div",{className:"websiteOwner",children:[Object(n.jsx)("p",{className:"top",children:"website owner"}),Object(n.jsxs)("div",{className:"contentWrapper",children:[Object(n.jsx)("div",{className:"imageWrapper"}),Object(n.jsxs)("div",{className:"bulletPoint ",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"whitesmoke",fontSize:"15px"}})}),Object(n.jsx)("p",{className:"buletText",children:Object(n.jsx)("span",{children:"with talent,for instance,exellent blogs, or videos, you can bring feeds to your website, no platform takes the major income of the advertisement from you."})})]}),Object(n.jsxs)("div",{className:"bulletPoint ",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"whitesmoke",fontSize:"15px"}})}),Object(n.jsx)("p",{className:"buletText",children:Object(n.jsx)("span",{children:"run your onw ecommerce website,the more connections you have,the more opportunity you have,besides your connection is one of the source,you can also do SEO promotion as normal webstie does"})})]}),Object(n.jsxs)("div",{className:"bulletPoint ",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"whitesmoke",fontSize:"15px"}})}),Object(n.jsx)("p",{className:"buletText",children:Object(n.jsx)("span",{children:"there are many more opportunities for you to start from small business"})})]}),Object(n.jsxs)("div",{className:"bulletPoint ",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"whitesmoke",fontSize:"15px"}})}),Object(n.jsx)("p",{className:"buletText",children:Object(n.jsx)("span",{children:"no longer be a pig on any platform"})})]})]})]}),Object(n.jsxs)("div",{className:"webDesigner",children:[Object(n.jsx)("p",{className:"top",children:"web developer"}),Object(n.jsxs)("div",{className:"contentWrapper",children:[Object(n.jsx)("div",{className:"imageWrapper"}),Object(n.jsxs)("div",{className:"bulletPoint ",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"whitesmoke",fontSize:"15px"}})}),Object(n.jsx)("p",{className:"buletText",children:Object(n.jsx)("span",{children:"more job opportunities, everyone around you is your potential customer"})})]}),Object(n.jsxs)("div",{className:"bulletPoint ",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"whitesmoke",fontSize:"15px"}})}),Object(n.jsx)("p",{className:"buletText",children:Object(n.jsx)("span",{children:"provide peer to peer encryption solution"})})]})]})]}),Object(n.jsxs)("div",{className:"vpsProvider",children:[Object(n.jsx)("p",{className:"top",children:"VPS provider"}),Object(n.jsxs)("div",{className:"contentWrapper",children:[Object(n.jsx)("div",{className:"imageWrapper"}),Object(n.jsxs)("div",{className:"bulletPoint ",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"whitesmoke",fontSize:"15px"}})}),Object(n.jsx)("p",{className:"buletText",children:Object(n.jsx)("span",{children:"VPS(virtual private server) will embrace great opportunities (ps: in layman's term, server is just another name for computer without display)"})})]}),Object(n.jsxs)("div",{className:"bulletPoint ",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"whitesmoke",fontSize:"15px"}})}),Object(n.jsx)("p",{className:"buletText",children:Object(n.jsx)("span",{children:"micro cloud data center and home data center will be all over the place"})})]})]})]}),Object(n.jsx)("p",{className:"future",children:Object(n.jsx)("span",{children:"Everyone will have a website, just like 20 years ago people believe everyone would have at least one computer"})}),Object(n.jsx)("div",{className:"flower",children:Object(n.jsx)("img",{src:"/Home/marc-schulte-Xxf_Hsq62lA-unsplash.jpg",alt:""})})]}),Object(n.jsxs)("div",{className:"comparison",children:[Object(n.jsxs)("div",{className:"topBar",children:[Object(n.jsx)("div",{className:"centralized",children:Object(n.jsx)("span",{children:"centralized social media"})}),Object(n.jsx)("p",{className:"vs",children:"VS"}),Object(n.jsx)("div",{className:"decentralized",children:Object(n.jsx)("span",{children:"decentralized website ecosystem"})})]}),Object(n.jsx)("div",{className:"imageWrapper-centralized",children:Object(n.jsx)("img",{src:"Home/centralized_system.png",alt:""})}),Object(n.jsxs)("div",{className:"contentWrapper1",children:[Object(n.jsx)("div",{className:"contentTopBar",children:Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{children:"Centralized social media"})," ",Object(n.jsx)("span",{style:{color:"red"},children:"Cons"})]})}),Object(n.jsxs)("div",{className:"bulletPoint ",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"rgb(192, 166, 20)",fontSize:"25px"}})}),Object(n.jsx)("p",{className:"buletText",children:Object(n.jsx)("span",{children:"as shown above, all user data has to go thru the central data center before reaching your peer"})})]}),Object(n.jsxs)("div",{className:"bulletPoint ",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"rgb(192, 166, 20)",fontSize:"25px"}})}),Object(n.jsx)("p",{className:"buletText",children:Object(n.jsx)("span",{children:"user privacy has to be stored in social media company's central data base, so privacy is not guaranteed, they know what you know, but you don't know what they know"})})]}),Object(n.jsxs)("div",{className:"bulletPoint ",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"rgb(192, 166, 20)",fontSize:"25px"}})}),Object(n.jsx)("p",{className:"buletText",children:Object(n.jsx)("span",{children:"AI may collect and analyze your data, and predict your behavior based on the data you have submitted to their database volutarily, that's why you receive so many advertisement that appeels to you"})})]}),Object(n.jsxs)("div",{className:"bulletPoint ",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"rgb(192, 166, 20)",fontSize:"25px"}})}),Object(n.jsx)("p",{className:"buletText",children:Object(n.jsx)("span",{children:"are you so enjoying having private conversation in some rich guy's room that is free of rental?"})})]})]}),Object(n.jsxs)("div",{className:"contentWrapper2",children:[Object(n.jsx)("div",{className:"contentTopBar",children:Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{children:"DeCentralized social media"})," ",Object(n.jsx)("span",{style:{color:"greenyellow"},children:"Pros"})]})}),Object(n.jsxs)("div",{className:"bulletPoint ",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"rgba(116, 115, 112, 0.8)",fontSize:"25px"}})}),Object(n.jsx)("p",{className:"buletText",children:Object(n.jsx)("span",{children:"as shown in below diagram, the connection is fully peer to peer, just like you knock on someone's door directly, no middleman is needed for passing your conversation back and forth"})})]}),Object(n.jsxs)("div",{className:"bulletPoint ",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"rgba(116, 115, 112, 0.8)",fontSize:"25px"}})}),Object(n.jsx)("p",{className:"buletText",children:Object(n.jsx)("span",{children:"you own everything, the private cloud server and home server, so no one can easily collect your data, privacy is guaranteed"})})]}),Object(n.jsxs)("div",{className:"bulletPoint ",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(Yt.a,{style:{color:"rgba(116, 115, 112, 0.8)",fontSize:"25px"}})}),Object(n.jsx)("p",{className:"buletText",children:Object(n.jsx)("span",{children:"front end server is served as front gate to your home,by which people can find you with your public IP address, private data is stored at home server,if you are concerned about the security of cloud server, which you can't see every day"})})]})]}),Object(n.jsx)("div",{className:"imageWrapper-decentralized",children:Object(n.jsx)("img",{src:"Home/decentralized.png",alt:""})})]}),Object(n.jsxs)("div",{className:"videoPlayerWrapper",children:[Object(n.jsx)("div",{className:"playerWrapper",children:O}),Object(n.jsxs)("div",{className:"contentWrapper",children:[Object(n.jsxs)("p",{className:"header1",children:[Object(n.jsx)("span",{children:"DeCensorship"})," ",Object(n.jsx)("span",{style:{color:"red"},children:"&"})," ",Object(n.jsx)("span",{children:"DeCentralization"})]}),Object(n.jsx)("p",{className:"vodDemoNotes",children:Object(n.jsx)("span",{children:"PS: for Video On Demand demostration purpose"})})]})]})]})},Xt=(a(148),a(44)),$t=a.n(Xt),Zt=a(49),ea=a.n(Zt),ta=a(27),aa=a.n(ta);var na=function(e){var t=Object(c.useState)({userName:"",email:"",password:"",passwordRepeat:"",isSuper:!1}),a=Object(i.a)(t,2),r=a[0],s=a[1],o=function(e){e.preventDefault();var t=e.target.name,a=e.target.value;s(Object(Fe.a)(Object(Fe.a)({},r),Object(Ge.a)({},t,a)))};return Object(n.jsx)("div",{className:"registerRoot",children:Object(n.jsxs)("form",{className:"form",onSubmit:function(t){if(t.preventDefault(),""!==r.userName&&""!==r.email&&""!==r.password&&""!==r.passwordRepeat)if(r.password===r.passwordRepeat){var a={username:r.userName,email:r.email,password:r.password,repeat_password:r.passwordRepeat,isSuper:r.isSuper};C.a.post("".concat(_,"/?action=registration"),JSON.stringify(a),U).then((function(t){console.log(t),!0===B((function(){return t.data.isSuccess}),void 0)&&e.history.push("/profile/login")})).catch((function(e){Y(e,"Register.js","handleOnSubmitForm")}))}else alert("password not equal to passwordRepeat !");else alert("null input detected")},autoComplete:"off",children:[Object(n.jsx)("p",{className:"registerName",children:Object(n.jsx)("span",{children:"\u6ce8\u518a"})}),Object(n.jsx)("div",{className:"formInputWrapper",children:Object(n.jsxs)("div",{className:"formInput",children:[Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)($t.a,{style:{color:"green",fontSize:"35px"}})}),Object(n.jsx)("input",{type:"text",value:r.userName,name:"userName",placeholder:"\u8acb\u8f38\u5165\u540d\u5b57",onChange:o})]}),Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(ea.a,{style:{color:"green",fontSize:"35px"}})}),Object(n.jsx)("input",{type:"email",value:r.email,name:"email",placeholder:"\u8acb\u8f38\u5165\u96fb\u90f5",onChange:o})]}),Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(aa.a,{style:{color:"green",fontSize:"35px"}})}),Object(n.jsx)("input",{type:"password",value:r.password,name:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",onChange:o})]}),Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(aa.a,{style:{color:"green",fontSize:"35px"}})}),Object(n.jsx)("input",{type:"password",value:r.passwordRepeat,name:"passwordRepeat",placeholder:"\u78ba\u8a8d\u5bc6\u78bc",onChange:o})]})]})}),Object(n.jsx)("div",{className:"submit",children:Object(n.jsx)("input",{type:"submit",value:"\u63d0\u4ea4"})})]})})};a(149);var ca=Object(N.b)((function(e){return{loginStatus:e.auth.status}}),(function(e){return{authLoginAction:function(t,a){return e(function(e,t){return function(a){var n={username:e,password:t},c="authLoginAction";a(ae("LOADING")),console.log(_),C.a.post("".concat(_,"/?action=login"),JSON.stringify(n),U).then((function(e){var t=H((function(){return e.data}),te,c),n=H((function(){return t.isSuccess}),te,c),r=H((function(){return t.token}),te,c);if(!0===n){localStorage.setItem("token",r);var s=H((function(){return t.querySet[0].username}),te,c),o=H((function(){return t.querySet[0].userID}),te,c),i=H((function(){return t.querySet[0].userImage}),te,c);ee.myUserID=o,ee.myUserName=s,ee.userImage=i,a(ne(s,o,i)),a(ae(y))}})).catch((function(e){a(ae(x)),Y(e,te,c)}))}}(t,a))}}}))((function(e){var t=Object(c.useState)({userName:"",password:""}),a=Object(i.a)(t,2),r=a[0],s=a[1],o=function(e){e.preventDefault();var t=e.target.name,a=e.target.value;s(Object(Fe.a)(Object(Fe.a)({},r),Object(Ge.a)({},t,a)))};return Object(c.useEffect)((function(){return e.loginStatus===y&&e.history.push("/"),function(){}}),[e.loginStatus]),Object(n.jsx)("div",{className:"loginRoot",children:Object(n.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault(),r.userName&&r.password?e.authLoginAction(r.userName,r.password):alert("null input detected")},autoComplete:"off",children:[Object(n.jsx)("p",{className:"registerName",children:Object(n.jsx)("span",{children:"\u767b\u5165"})}),Object(n.jsx)("div",{className:"formInputWrapper",children:Object(n.jsxs)("div",{className:"formInput",children:[Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)($t.a,{style:{color:"green",fontSize:"35px"}})}),Object(n.jsx)("input",{type:"text",value:r.userName,name:"userName",placeholder:"\u8acb\u8f38\u5165\u7528\u6236\u540d\u6216\u96fb\u90f5",onChange:o})]}),Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"iconWrapper",children:Object(n.jsx)(aa.a,{style:{color:"green",fontSize:"35px"}})}),Object(n.jsx)("input",{type:"password",value:r.password,name:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",onChange:o})]})]})}),Object(n.jsx)("div",{className:"submit",children:Object(n.jsx)("input",{type:"submit",value:"\u63d0\u4ea4"})})]})})})),ra=(a(150),a(74)),sa=a.n(ra);a(151);var oa=function(e){return Object(n.jsxs)("div",{className:"orderByRoot",children:[Object(n.jsxs)("div",{className:"aTagAndIcon",children:[Object(n.jsx)("a",{style:e.style,children:Object(n.jsx)("span",{children:e.menuName})}),Object(n.jsx)("div",{className:"iconWrapper",onClick:function(){e.showMenuCallBack()},children:Object(n.jsx)(h.a,{style:{color:e.style.color,fontSize:"20px"}})})]}),Object(n.jsx)("div",{className:"menuContent",style:{display:1==e.showMenu?"block":"none"},children:e.children})]})};a(152);var ia=function(e){return Object(n.jsx)("div",{className:"orderByDropDownItemRoot",children:Object(n.jsx)("a",{children:Object(n.jsx)("span",{style:e.style,children:e.itemName})})})};a(153),a(154);var la=function(e){var t=Object(Bt.f)(),a=function(a){t.push("/course/".concat(e.index))};return Object(n.jsx)("div",{className:"courseCardRoot",children:Object(n.jsxs)("div",{className:"innerBox",onClick:function(){a(e.index)},children:[Object(n.jsx)("div",{className:"courseImage",children:Object(n.jsx)("img",{src:e.course_img})}),Object(n.jsxs)("div",{className:"coursePriceNinfo",children:[Object(n.jsx)("p",{children:Object(n.jsx)("span",{children:e.title})}),Object(n.jsx)("p",{className:"more",onClick:function(){a(e.index)},children:Object(n.jsx)("span",{children:"More"})})]}),Object(n.jsx)("div",{className:"courseBrief",children:Object(n.jsx)("p",{children:Object(n.jsx)("span",{children:e.brief_intro})})})]})})};var ua=function(e){return Object(n.jsx)("div",{className:"contentListRoot",children:e.Courses.map((function(t,a){return Object(n.jsx)("div",{className:"courseItem",children:Object(n.jsx)(la,{course_img:t.course_img,title:t.title,brief_intro:t.brief_intro,click4more:e.openRecommendedCourseDetailIframeCallBack,index:a})},a)}))})},da=(a(155),a(156),a(68)),ja=a.n(da),ma=a(69),ba=a.n(ma),pa=a(45),ha=a.n(pa);var fa=function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(0),l=Object(i.a)(o,2),u=l[0],d=l[1],m=Object(c.useRef)(null),b=Object(c.useState)(!1),p=Object(i.a)(b,2),h=p[0],f=p[1],O=Object(c.useRef)(null),g=Object(c.useState)(),v=Object(i.a)(g,2),x=v[0],y=v[1],N=Object(c.useState)(),w=Object(i.a)(N,2),C=w[0],S=w[1],k={reachRightEnd:0,previousValuesForScrollLeft0:null,previousValuesForScrollLeft1:null,previousValuesForScrollLeft2:null},T="";function R(e){return I.apply(this,arguments)}function I(){return(I=Object(Oe.a)(fe.a.mark((function e(t){var a;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Number(window.imageIdSelted)+Number(t),console.log(window.ImageArrayLength),window.ImageArrayLength&&(a>window.ImageArrayLength-1?a=window.ImageArrayLength-1:a<0&&(a=0)),console.log(a),window.imageIdSelted=Number(a),d(window.imageIdSelted),e.abrupt("return",window.imageIdSelted);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){if(T=Object(n.jsxs)("div",{className:"imageWrapper",ref:O,children:[Object(n.jsx)("img",{src:0==r.length?"":r[u].profile_image,onClick:P}),Object(n.jsx)("svg",{width:"56",height:"56",viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",class:"playerSymbol",onClick:P,children:Object(n.jsxs)("g",{fill:"#FFF","fill-rule":"evenodd",children:[Object(n.jsx)("path",{d:"M28 53c13.807 0 25-11.193 25-25S41.807 3 28 3 3 14.193 3 28s11.193 25 25 25zm0 3C12.536 56 0 43.464 0 28S12.536 0 28 0s28 12.536 28 28-12.536 28-28 28z"}),Object(n.jsx)("path",{d:"M37.232 27.91L22 36.82V19z"})]})})]}),L(),E(),window.imageIdSelted=Number(0),console.log(e.CourseArray),e.CourseArray){var t=B((function(){return e.CourseArray}),"undefined");"undefined"!==t&&s(t)}return d(e.selectedCourseArrayIndex),function(){_(),M()}}),[]),Object(c.useEffect)((function(){f(!1),console.log("CourseArray.length : ",r.length);var e=m.current.scrollWidth/r.length*u;e+window.innerWidth<m.current.scrollWidth?m.current.scrollLeft=e-window.innerWidth/2:m.current.scrollLeft=m.current.scrollWidth-window.innerWidth}),[u]),Object(c.useEffect)((function(){console.log("CourseArray.length : ",r.length),window.ImageArrayLength=r.length}),[r]);var A=function(e){var t=B((function(){return O.current.offsetHeight}),"undefined");"undefined"!=t&&S(t);var a=B((function(){return O.current.offsetWidth}),"undefined");"undefined"!=a&&S(a)},L=function(e){m.current.addEventListener("wheel",D),window.addEventListener("resize",A)},_=function(e){m.current&&m.current.removeEventListener("wheel",D)},E=function(e){O.current.addEventListener("wheel",W)},M=function(e){O.current&&O.current.removeEventListener("wheel",W)},W=function(){var e=Object(Oe.a)(fe.a.mark((function e(t){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(t.deltaY>0)){e.next=6;break}return e.next=4,R(1);case 4:e.next=8;break;case 6:return e.next=8,R(-1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function D(e){e.deltaY<0?0==window.scrollY&&(e.preventDefault(),m.current.scrollLeft-=.02*m.current.scrollWidth,k.reachRightEnd=0,k.previousValuesForScrollLeft0=0,k.previousValuesForScrollLeft1=0,k.previousValuesForScrollLeft2=0):0==k.reachRightEnd&&(e.preventDefault(),m.current.scrollLeft+=.02*m.current.scrollWidth,k.previousValuesForScrollLeft2=k.previousValuesForScrollLeft1,k.previousValuesForScrollLeft1=k.previousValuesForScrollLeft0,k.previousValuesForScrollLeft0=m.current.scrollLeft,k.previousValuesForScrollLeft0==k.previousValuesForScrollLeft1&&k.previousValuesForScrollLeft1==k.previousValuesForScrollLeft2&&k.previousValuesForScrollLeft1>10&&(k.reachRightEnd=1))}var P=function(e){y(O.current.clientWidth),S(O.current.clientHeight),f(!0)};return T=!0===h?Object(n.jsx)("div",{className:"imageWrapper",ref:O,children:Object(n.jsx)(Kt,{m3u8url:"http://localhost/hls/360p.m3u8",controls:!0,autoPlay:!0,width:x,height:C})}):Object(n.jsxs)("div",{className:"imageWrapper",ref:O,children:[Object(n.jsx)("img",{src:0==r.length?"":r[u].course_img,onClick:P}),Object(n.jsx)("svg",{width:"56",height:"56",viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",class:"playerSymbol",onClick:P,children:Object(n.jsxs)("g",{fill:"#FFF","fill-rule":"evenodd",children:[Object(n.jsx)("path",{d:"M28 53c13.807 0 25-11.193 25-25S41.807 3 28 3 3 14.193 3 28s11.193 25 25 25zm0 3C12.536 56 0 43.464 0 28S12.536 0 28 0s28 12.536 28 28-12.536 28-28 28z"}),Object(n.jsx)("path",{d:"M37.232 27.91L22 36.82V19z"})]})})]}),Object(n.jsxs)("div",{className:"coursePreViewDetailRoot",children:[Object(n.jsx)("input",{type:"checkbox",id:"imageDetalViewRootCheckbox"}),Object(n.jsxs)("div",{className:"imageDetail",children:[T,Object(n.jsxs)("div",{className:"info",children:[Object(n.jsx)(j.b,{className:"name",to:{pathname:0==r.length?"#":"/course/".concat(r[u].id),myparams:{course_id:0==r.length?0:r[u].id}},children:Object(n.jsx)("span",{children:0==r.length?"":r[u].title})}),Object(n.jsx)("hr",{}),Object(n.jsx)("p",{className:"description",children:Object(n.jsxs)("span",{children:[" ",0==r.length?"":r[u].brief_intro," "]})})]}),Object(n.jsx)("div",{className:"arrowForwardIconWrapper",onClick:function(e){var t=u+1;t>r.length-1&&(t=r.length-1),d(t)},children:Object(n.jsx)(ja.a,{style:{color:"rgb(55,55,55)",fontSize:"40px"}})}),Object(n.jsx)("div",{className:"arrowBackIconWrapper",onClick:function(e){var t=u-1;t<0&&(t=0),d(t)},children:Object(n.jsx)(ba.a,{style:{color:"rgb(55,55,55)",fontSize:"40px"}})}),Object(n.jsx)("label",{className:"icoMenuWrapper",for:"imageDetalViewRootCheckbox",children:Object(n.jsx)(ha.a,{style:{color:"rgb(55,55,55)",fontSize:"30px"}})})]}),Object(n.jsx)("div",{className:"imageList",ref:m,children:r.map((function(e,t){return Object(n.jsxs)("div",{className:"album",children:[Object(n.jsx)("img",{src:e.course_img,onClick:function(e){!function(e,t){d(t)}(0,t)},style:u==t?{borderStyle:"solid",borderWidth:"2px",borderColor:"red"}:{}}),Object(n.jsx)("p",{className:"profileName",children:Object(n.jsx)("span",{children:e.title})})]},t)}))})]})};var Oa=function(e){return Object(n.jsxs)("div",{className:"coursePreViewIframeRoot",children:[Object(n.jsxs)("div",{className:"iframeTopBar",children:[Object(n.jsx)("div",{className:"visitMore",children:Object(n.jsx)(j.b,{className:"visitMoreLink",to:{pathname:0==e.CourseArray.length?"#":"/course/".concat(e.CourseArray[e.selectedCourseArrayIndex].id)},children:"visit course page"})}),Object(n.jsx)("div",{className:"spacer"}),Object(n.jsx)("div",{className:"closeIconWrapper",onClick:e.handleOnClickClose,children:Object(n.jsx)(Wt.a,{style:{color:"rgb(55,55,55)",fontSize:"40px"}})})]}),Object(n.jsx)("div",{className:"preViewWindow",children:Object(n.jsx)(fa,{CourseArray:e.CourseArray,selectedCourseArrayIndex:e.selectedCourseArrayIndex})})]})},ga=(a(157),a(70)),va=a.n(ga),xa=a(73),ya=a.n(xa),Na=a(71),wa=a.n(Na),Ca=a(72),Sa=a.n(Ca);var ka=function(e){for(var t=[],a=0;a<e.TotalPageNum;a++)t.push(Object(n.jsx)("p",{className:"pageItem",children:Object(n.jsx)("span",{children:a})},a));return Object(n.jsx)("div",{className:"pageIndexingRoot",children:Object(n.jsxs)("div",{className:"innerWrapper",children:[Object(n.jsx)("div",{className:"navItem",children:Object(n.jsx)(va.a,{style:{color:"green",fontSize:"30px"}})}),Object(n.jsx)("div",{className:"navItem",children:Object(n.jsx)(wa.a,{style:{color:"green",fontSize:"40px"}})}),Object(n.jsx)("div",{className:"flexBoxesContainer",children:t}),Object(n.jsx)("div",{className:"navItem",children:Object(n.jsx)(Sa.a,{style:{color:"green",fontSize:"40px"}})}),Object(n.jsx)("div",{className:"navItem",children:Object(n.jsx)(ya.a,{style:{color:"green",fontSize:"30px"}})})]})})};var Ta=function(e){var t=Object(c.useState)(),a=Object(i.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(!1),l=Object(i.a)(o,2),u=(l[0],l[1],Object(c.useState)(!1)),d=Object(i.a)(u,2),j=d[0],m=d[1],b=Object(c.useState)(0),p=Object(i.a)(b,2),h=p[0],f=p[1],O=Object(c.useState)([]),g=Object(i.a)(O,2),v=g[0],x=g[1],y=Object(c.useState)(!1),N=Object(i.a)(y,2),w=N[0],C=N[1],S=Object(c.useState)(0),k=Object(i.a)(S,2),T=k[0],R=k[1],I=[{category_id:0,category_name:"All"},{category_id:1,category_name:"IT"},{category_id:2,category_name:"Art"},{category_id:3,category_name:"Music"},{category_id:4,category_name:"lala"},{category_id:5,category_name:"lalala"},{category_id:6,category_name:"management"}],A=[{title:"\u7db2\u9801\u8a2d\u8a08",price:"2000NT",duration:"30\u5c0f\u6642",brief_intro:"\u9019\u662f\u95dc\u65bc***\u7684\u8ab2\u7a0b\uff0c\u6709****\u548c****....",category_id:1,course_img:"Courses/1.jpeg",course_intro_video:"",id:0},{title:"\u7db2\u9801\u8a2d\u8a08",price:"2000NT",duration:"30\u5c0f\u6642",brief_intro:"\u9019\u662f\u95dc\u65bc***\u7684\u8ab2\u7a0b\uff0c\u6709****\u548c****....",category_id:1,course_img:"Courses/2.jpeg",course_intro_video:"",id:1},{title:"\u7db2\u9801\u8a2d\u8a08",price:"2000NT",duration:"30\u5c0f\u6642",brief_intro:"\u9019\u662f\u95dc\u65bc***\u7684\u8ab2\u7a0b\uff0c\u6709****\u548c****....",category_id:2,course_img:"Courses/1.jpg",course_intro_video:"",id:2},{title:"\u7db2\u9801\u8a2d\u8a08",price:"2000NT",duration:"30\u5c0f\u6642",brief_intro:"\u9019\u662f\u95dc\u65bc***\u7684\u8ab2\u7a0b\uff0c\u6709****\u548c****....",category_id:2,course_img:"Courses/2.jpg",course_intro_video:"",id:3},{title:"\u7db2\u9801\u8a2d\u8a08",price:"2000NT",duration:"30\u5c0f\u6642",brief_intro:"\u9019\u662f\u95dc\u65bc***\u7684\u8ab2\u7a0b\uff0c\u6709****\u548c****....",category_id:3,course_img:"Courses/1.jpeg",course_intro_video:"",id:4},{title:"\u7db2\u9801\u8a2d\u8a08",price:"2000NT",duration:"30\u5c0f\u6642",brief_intro:"\u9019\u662f\u95dc\u65bc***\u7684\u8ab2\u7a0b\uff0c\u6709****\u548c****....",category_id:4,course_img:"Courses/1.jpg",course_intro_video:"",id:5},{title:"\u7db2\u9801\u8a2d\u8a08",price:"2000NT",duration:"30\u5c0f\u6642",brief_intro:"\u9019\u662f\u95dc\u65bc***\u7684\u8ab2\u7a0b\uff0c\u6709****\u548c****....",category_id:5,course_img:"Courses/2.jpeg",course_intro_video:"",id:6},{title:"\u7db2\u9801\u8a2d\u8a08",price:"2000NT",duration:"30\u5c0f\u6642",brief_intro:"\u9019\u662f\u95dc\u65bc***\u7684\u8ab2\u7a0b\uff0c\u6709****\u548c****....",category_id:6,course_img:"Courses/2.jpg",course_intro_video:"",id:7},{title:"\u7db2\u9801\u8a2d\u8a08",price:"2000NT",duration:"30\u5c0f\u6642",brief_intro:"\u9019\u662f\u95dc\u65bc***\u7684\u8ab2\u7a0b\uff0c\u6709****\u548c****....",category_id:4,course_img:"Courses/2.jpeg",course_intro_video:"",id:8},{title:"\u7db2\u9801\u8a2d\u8a08",price:"2000NT",duration:"30\u5c0f\u6642",brief_intro:"\u9019\u662f\u95dc\u65bc***\u7684\u8ab2\u7a0b\uff0c\u6709****\u548c****....",category_id:5,course_img:"Courses/1.jpeg",course_intro_video:"",id:9}];Object(c.useEffect)((function(){return x(A),function(){}}),[]);var L=function(){m(0==j)},_=function(e){if(0!=e){for(var t=[],a=0;a<A.length;++a)A[a].category_id==e&&t.push(A[a]);x(t)}else x(A)},E="";return E=!0===w?Object(n.jsxs)("div",{className:"iframeStyle",children:[Object(n.jsx)("div",{className:"transparentBar"}),Object(n.jsx)("div",{className:"iframeBody",children:Object(n.jsx)(Oa,{CourseArray:v,selectedCourseArrayIndex:T,handleOnClickClose:function(e){C(!1)}})})]}):"",Object(n.jsxs)("div",{className:"courseListViewRoot",children:[Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsxs)("div",{className:"topBar",children:[Object(n.jsxs)("div",{className:"search",children:[Object(n.jsx)("div",{className:"icon",children:Object(n.jsx)(sa.a,{style:{color:"rgb(255,255,255)",fontSize:"35px"}})}),Object(n.jsx)("input",{type:"text",value:r,name:"searchKeyWords",placeholder:"Search",onChange:function(e){e.preventDefault();var t=e.target.value;s(t)}})]}),Object(n.jsx)("div",{className:"spacer"}),Object(n.jsx)("div",{className:"orderby",children:Object(n.jsx)(oa,{menuName:I[h].category_name,style:{color:"rgb(200,200,200)"},showMenuCallBack:L,showMenu:j,children:I.map((function(e,t){return Object(n.jsx)("div",{className:"item",onClick:function(){var e;f(e=t),_(I[e].category_id),L()},children:Object(n.jsx)(ia,{style:{color:"rgb(200,200,200)"},itemName:e.category_name})},t)}))})})]}),Object(n.jsx)("div",{className:"contentList",children:Object(n.jsx)(ua,{Courses:v,openRecommendedCourseDetailIframeCallBack:function(e){R(e),C(!0)}})}),Object(n.jsx)("div",{className:"pageIndexWrapper",children:Object(n.jsx)(ka,{TotalPageNum:10})})]}),E]})};a(158),a(159);var Ra=function(e){var t=Object(c.useState)(),a=Object(i.a)(t,2),r=(a[0],a[1],Object(c.useState)()),s=Object(i.a)(r,2),o=s[0],l=(s[1],Object(c.useState)(!1)),u=Object(i.a)(l,2),d=u[0],j=u[1],m=Object(c.useState)(0),b=Object(i.a)(m,2),p=b[0],h=(b[1],Object(c.useRef)(null)),f="",O=function(e){window.playerWidth=h.current.clientWidth,window.playerHeight=h.current.clientHeight,j(!0)};return!0===d?(console.log("re-rendering .... "),console.log(o,"  ",window.playerWidth),f=Object(n.jsx)("div",{className:"imageWrapper",ref:h,children:Object(n.jsx)(Kt,{m3u8url:"http://localhost/hls/360p.m3u8",controls:!0,autoPlay:!0})},p)):f=Object(n.jsxs)("div",{className:"imageWrapper",ref:h,children:[Object(n.jsx)("div",{className:"image",children:Object(n.jsx)("img",{src:"/meihua.jpg",onClick:O})}),Object(n.jsx)("svg",{width:"56",height:"56",viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",class:"playerSymbol",onClick:O,children:Object(n.jsxs)("g",{fill:"#FFF","fill-rule":"evenodd",children:[Object(n.jsx)("path",{d:"M28 53c13.807 0 25-11.193 25-25S41.807 3 28 3 3 14.193 3 28s11.193 25 25 25zm0 3C12.536 56 0 43.464 0 28S12.536 0 28 0s28 12.536 28 28-12.536 28-28 28z"}),Object(n.jsx)("path",{d:"M37.232 27.91L22 36.82V19z"})]})})]}),Object(n.jsx)("div",{className:"coursePlayAndWindowRoot",children:Object(n.jsx)("div",{className:"playerWrapper",children:f})})},Ia=(a(160),a(75)),Aa=a.n(Ia),La=a(76),_a=a.n(La);a(161);var Ea=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){return 1==e.isExpandAll?s(!0):s(!1),function(){}}),[e.isExpandAll]),Object(n.jsxs)("div",{className:"courseSectionRoot",children:[Object(n.jsxs)("div",{className:"sectionNameAndDuration",children:[Object(n.jsx)("div",{className:"icon",onClick:function(){s(!r)},children:Object(n.jsx)(h.a,{style:{color:"rgb(100,100,100)",fontSize:"20px"}})}),Object(n.jsxs)("div",{className:"sectionName",children:[" ",e.section.sectionName]}),Object(n.jsx)("div",{className:"duration",children:e.section.durationInfo})]}),Object(n.jsx)("div",{className:"sectionItems",style:{display:1==r?"block":"none"},children:e.section.sectionItems.map((function(e,t){return Object(n.jsxs)("div",{className:"item",children:[Object(n.jsx)("div",{className:"icon",children:Object(n.jsx)(Aa.a,{style:{color:"rgb(150,150,150)",fontSize:"20px"}})}),Object(n.jsx)("div",{className:"lessionName",children:e.itemName}),1==e.preview?Object(n.jsx)("div",{className:"preview",children:Object(n.jsx)(_a.a,{style:{color:"rgb(100,100,100)",fontSize:"15px"}})}):Object(n.jsx)("div",{className:"preview",children:Object(n.jsx)(aa.a,{style:{color:"rgb(100,100,100)",fontSize:"15px"}})}),Object(n.jsx)("div",{className:"duration",children:e.itemDuration})]},t)}))})]})};function Ma(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),r=a[0],s=a[1];return Object(n.jsx)("div",{className:"courseIntroRoot",children:Object(n.jsxs)("div",{className:"innerWrapper",children:[Object(n.jsxs)("div",{className:"goal",children:[Object(n.jsx)("p",{className:"whatyoulllearn",children:"What you'll learn"}),Object(n.jsxs)("div",{className:"goalItem",children:[Object(n.jsx)("div",{className:"icon",children:Object(n.jsx)(Yt.a,{style:{color:"rgb(150,150,150)",fontSize:"20px"}})}),Object(n.jsx)("p",{className:"textContent",children:" Have a fundamental understanding of the Python programming language "})]}),Object(n.jsxs)("div",{className:"goalItem",children:[Object(n.jsx)("div",{className:"icon",children:Object(n.jsx)(Yt.a,{style:{color:"rgb(150,150,150)",fontSize:"20px"}})}),Object(n.jsx)("p",{className:"textContent",children:" Acquire the pre-requisite Python skills to move into specific branches - Machine Learning, Data Science, etc.. "})]}),Object(n.jsxs)("div",{className:"goalItem",children:[Object(n.jsx)("div",{className:"icon",children:Object(n.jsx)(Yt.a,{style:{color:"rgb(150,150,150)",fontSize:"20px"}})}),Object(n.jsx)("p",{className:"textContent",children:" Understand how to create your own Python programs. "})]}),Object(n.jsxs)("div",{className:"goalItem",children:[Object(n.jsx)("div",{className:"icon",children:Object(n.jsx)(Yt.a,{style:{color:"rgb(150,150,150)",fontSize:"20px"}})}),Object(n.jsx)("p",{className:"textContent",children:" Understand both Python 2 and Python 3. "})]})]}),Object(n.jsxs)("div",{className:"content",children:[Object(n.jsx)("p",{className:"courseContent",children:"Course content"}),Object(n.jsxs)("div",{className:"courseBriefLen",children:[Object(n.jsx)("p",{className:"courseDuration",children:"22 sections \u2022 435 lectures \u2022 61h 9m total length "}),Object(n.jsx)("div",{className:"collapseAll",onClick:function(){s(!r)},children:1==r?"Collapse all setions":"Expand all setions"})]}),[{sectionName:"Course Introduction",durationInfo:"6 lectures \u2022 total 14min",sectionItems:[{itemName:"Introduction to the course",preview:!0,itemDuration:"01:02:02"},{itemName:"Remaster in Progress",preview:!1,itemDuration:"02:04"},{itemName:"Video Quality",preview:!1,itemDuration:"01:08"}]},{sectionName:"Install and Setup",durationInfo:"7 lectures \u2022 total 33min",sectionItems:[{itemName:"Python for Windows",preview:!1,itemDuration:"02:19"},{itemName:"Installing IntelliJ IDEA for Windows",preview:!1,itemDuration:"06:35"},{itemName:"Python for Linux",preview:!1,itemDuration:"02:19"}]},{sectionName:"Steping into the World of Python",durationInfo:"25 lectures \u2022 total 2hr 30min",sectionItems:[{itemName:"introduction",preview:!1,itemDuration:"02:19"},{itemName:"Our first Python Program",preview:!1,itemDuration:"06:35"},{itemName:"Printing in Python",preview:!1,itemDuration:"02:19"}]},{sectionName:"Lists and Tupples",durationInfo:"54 lectures \u2022 total 4hr 45min",sectionItems:[{itemName:"introduction to Sequene Types",preview:!1,itemDuration:"02:19"},{itemName:"Lists",preview:!1,itemDuration:"06:35"},{itemName:"Immutable Objects",preview:!1,itemDuration:"02:19"},{itemName:"Mutable Objects",preview:!1,itemDuration:"02:19"}]}].map((function(e,t){return Object(n.jsx)("div",{className:"section",children:Object(n.jsx)(Ea,{section:e,isExpandAll:r})},t)}))]})]})})}var Wa=function(e){return Object(n.jsx)("div",{children:"hello discussion"})};var Da=function(e){return Object(n.jsx)("div",{children:"homework"})};var Pa=function(e){return Object(n.jsx)("div",{children:"what students has said about this course"})};var Ga=function(e){var t=Object(c.useState)(!0),a=Object(i.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(!1),l=Object(i.a)(o,2),u=l[0],d=l[1],j=Object(c.useState)(!1),m=Object(i.a)(j,2),b=m[0],p=m[1],h=Object(c.useState)(!1),f=Object(i.a)(h,2),O=f[0],g=f[1],v="";return 1==r?v=Object(n.jsx)(Ma,{}):1==u?v=Object(n.jsx)(Wa,{}):1==b?v=Object(n.jsx)(Pa,{}):1==O&&(v=Object(n.jsx)(Da,{})),Object(n.jsxs)("div",{className:"courseDetailViewRoot",children:[Object(n.jsx)("div",{className:"coursePlayWindowAndList",children:Object(n.jsx)(Ra,{})}),Object(n.jsxs)("div",{className:"buyCourse",children:[Object(n.jsxs)("div",{className:"itemAndPrice",children:[Object(n.jsx)("div",{className:"otherItems"}),Object(n.jsxs)("div",{className:"price",children:[Object(n.jsx)("p",{className:"priceName",children:"price"}),Object(n.jsx)("p",{className:"priceValue",children:" NT$2000 "})]})]}),Object(n.jsxs)("div",{className:"buyWrapper",children:[Object(n.jsxs)("div",{className:"buttonAndItems",children:[Object(n.jsx)("div",{className:"rate"}),Object(n.jsx)("div",{className:"order",children:Object(n.jsx)("p",{className:"orderName",children:" order "})})]}),Object(n.jsx)("div",{className:"reserved"})]})]}),Object(n.jsxs)("div",{className:"ResourseOrAccessment",children:[Object(n.jsx)("div",{className:"selectionBarWrapper",children:Object(n.jsxs)("div",{className:"selectionBar",children:[Object(n.jsxs)("div",{className:"item",onClick:function(){s(!0),d(!1),p(!1),g(!1)},children:[Object(n.jsx)("div",{className:"itemNameWrapper",children:Object(n.jsx)("p",{className:"itemName",children:"Intro"})}),Object(n.jsx)("div",{className:"underline",style:{backgroundColor:r?"red":"rgb(211, 211, 211)"}})]}),Object(n.jsxs)("div",{className:"item",onClick:function(){s(!1),d(!0),p(!1),g(!1)},children:[Object(n.jsx)("div",{className:"itemNameWrapper",children:Object(n.jsx)("p",{className:"itemName",children:"discussion"})}),Object(n.jsx)("div",{className:"underline",style:{backgroundColor:u?"red":"rgb(211, 211, 211)"}})]}),Object(n.jsxs)("div",{className:"item",onClick:function(){s(!1),d(!1),p(!0),g(!1)},children:[Object(n.jsx)("div",{className:"itemNameWrapper",children:Object(n.jsx)("p",{className:"itemName",children:"feedback"})}),Object(n.jsx)("div",{className:"underline",style:{backgroundColor:b?"red":"rgb(211, 211, 211)"}})]}),Object(n.jsxs)("div",{className:"item",onClick:function(){s(!1),d(!1),p(!1),g(!0)},children:[Object(n.jsx)("div",{className:"itemNameWrapper",children:Object(n.jsx)("p",{className:"itemName",children:"assessment"})}),Object(n.jsx)("div",{className:"underline",style:{backgroundColor:O?"red":"rgb(211, 211, 211)"}})]})]})}),Object(n.jsx)("div",{className:"selectedPage",children:v})]})]})},Fa=a(34),Va=a.n(Fa),za=a(35),Ua=a.n(za);a(162);var Ba=function(e){var t=Object(c.useRef)(null),a={scrollBarPosition:0,reachRightEnd:0,previousValuesForScrollLeft0:null,previousValuesForScrollLeft1:null,previousValuesForScrollLeft2:null},r={Travel:{taiwan:["/Gallery/Travel/taiwan/0.jpg   ","/Gallery/Travel/taiwan/1.1.jpg ","/Gallery/Travel/taiwan/1.jpg   ","/Gallery/Travel/taiwan/2.0.jpg ","/Gallery/Travel/taiwan/2.jpeg  ","/Gallery/Travel/taiwan/2.1.jpg ","/Gallery/Travel/taiwan/2.2.jpg ","/Gallery/Travel/taiwan/3.jpg   ","/Gallery/Travel/taiwan/4.jpg   ","/Gallery/Travel/taiwan/5.jpg   ","/Gallery/Travel/taiwan/6.jpeg  ","/Gallery/Travel/taiwan/7.png   ","/Gallery/Travel/taiwan/8.jpg   ","/Gallery/Travel/taiwan/9.jpg   ","/Gallery/Travel/taiwan/10.jpg  ","/Gallery/Travel/taiwan/11.jpg  ","/Gallery/Travel/taiwan/12.jpg  ","/Gallery/Travel/taiwan/13.jpg  ","/Gallery/Travel/taiwan/14.jpg  ","/Gallery/Travel/taiwan/15.jpg  ","/Gallery/Travel/taiwan/16.jpg  ","/Gallery/Travel/taiwan/17.jpg  ","/Gallery/Travel/taiwan/18.jpg  ","/Gallery/Travel/taiwan/19.jpg  ","/Gallery/Travel/taiwan/20.jpg  ","/Gallery/Travel/taiwan/21.jpg  ","/Gallery/Travel/taiwan/22.jpeg ","/Gallery/Travel/taiwan/23.jpg  ","/Gallery/Travel/taiwan/24.jpg  ","/Gallery/Travel/taiwan/25.jpeg ","/Gallery/Travel/taiwan/26.jpg  ","/Gallery/Travel/taiwan/27.jpg  ","/Gallery/Travel/taiwan/28.jpeg ","/Gallery/Travel/taiwan/29.jpg  ","/Gallery/Travel/taiwan/30.png  ","/Gallery/Travel/taiwan/31.jpg  ","/Gallery/Travel/taiwan/32.jpg  ","/Gallery/Travel/taiwan/33.jpg  ","/Gallery/Travel/taiwan/34.jpg  ","/Gallery/Travel/taiwan/35.jpg  ","/Gallery/Travel/taiwan/36.jpg  ","/Gallery/Travel/taiwan/37.jpeg ","/Gallery/Travel/taiwan/38.jpg  ","/Gallery/Travel/taiwan/39.jpg  ","/Gallery/Travel/taiwan/40.jpg  ","/Gallery/Travel/taiwan/41.jpg  ","/Gallery/Travel/taiwan/42.jpg  ","/Gallery/Travel/taiwan/43.jpg  ","/Gallery/Travel/taiwan/44.jpg  ","/Gallery/Travel/taiwan/45.jpg  ","/Gallery/Travel/taiwan/46.jpg  ","/Gallery/Travel/taiwan/47.jpg  ","/Gallery/Travel/taiwan/48.jpg  ","/Gallery/Travel/taiwan/49.jpg  ","/Gallery/Travel/taiwan/50.jpg  ","/Gallery/Travel/taiwan/51.jpg  ","/Gallery/Travel/taiwan/52.jpg  "],singapore:["/Gallery/Travel/singapore/0.jpg  ","/Gallery/Travel/singapore/1.jpg  ","/Gallery/Travel/singapore/2.jpg  ","/Gallery/Travel/singapore/3.jpg ","/Gallery/Travel/singapore/4.jpg ","/Gallery/Travel/singapore/5.jpg  ","/Gallery/Travel/singapore/6.jpg  ","/Gallery/Travel/singapore/7.jpg  ","/Gallery/Travel/singapore/8.jpg  ","/Gallery/Travel/singapore/9.jpg  ","/Gallery/Travel/singapore/10.jpg ","/Gallery/Travel/singapore/11.jpeg ","/Gallery/Travel/singapore/12.jpeg ","/Gallery/Travel/singapore/13.jpg ","/Gallery/Travel/singapore/14.jpg ","/Gallery/Travel/singapore/15.jpg ","/Gallery/Travel/singapore/16.jpeg "],jeju:["/Gallery/Travel/jeju/0.jpg  ","/Gallery/Travel/jeju/1.jpg  ","/Gallery/Travel/jeju/2.jpg  ","/Gallery/Travel/jeju/3.jpeg ","/Gallery/Travel/jeju/4.jpeg ","/Gallery/Travel/jeju/5.jpg  ","/Gallery/Travel/jeju/6.jpg  ","/Gallery/Travel/jeju/7.jpg  ","/Gallery/Travel/jeju/8.jpg  ","/Gallery/Travel/jeju/9.jpg  ","/Gallery/Travel/jeju/10.jpg ","/Gallery/Travel/jeju/11.jpg ","/Gallery/Travel/jeju/12.jpg ","/Gallery/Travel/jeju/13.jpg "],india:[],malaysia:[]}},s=[{id:0,PlaceName:"taiwan",CoverImage:"/Gallery/Travel/cover_taiwan.jpg",Link:{pathname:"/gallery/travel/taiwan",myparams:{id:1,AlbumName:"taiwan",ImageArray:r.Travel.taiwan}}},{id:1,PlaceName:"singapore",CoverImage:"/Gallery/Travel/cover_sg.jpg",Link:{pathname:"/gallery/travel/singapore",myparams:{id:1,AlbumName:"singapore",ImageArray:r.Travel.singapore}}},{id:2,PlaceName:"jeju sk",CoverImage:"/Gallery/Travel/cover_jeju.jpeg",Link:{pathname:"/gallery/travel/jeju",myparams:{id:1,AlbumName:"jeju",ImageArray:r.Travel.jeju}}},{id:3,PlaceName:"Dharamshala India",CoverImage:"/Gallery/Travel/india.jpg",Link:{pathname:"/gallery/travel/india",myparams:{id:1,AlbumName:"india",ImageArray:r.Travel.india}}},{id:4,PlaceName:"Malaysia",CoverImage:"/Gallery/Travel/KualaLumpur.jpg",Link:{pathname:"/gallery/travel/malaysia",myparams:{id:1,AlbumName:"malaysia",ImageArray:r.Travel.malaysia}}}],o=Object(c.useState)([{id:0,AlbumName:"Travel",CoverImage:"Gallery/Travel/ROCFlag.jpg",Link:{pathname:"/gallery/travel",myparams:{id:1,AlbumName:"Travel",DataArray:s,ImageList:r}}},{id:1,AlbumName:"Animals",CoverImage:"Gallery/Animals/Animals.jpg",Link:{pathname:"/gallery/animals",myparams:{id:2,AlbumName:"Animals",DataArray:[{id:0,PlaceName:"no1",CoverImage:"/Gallery/Animals/animals.jpg",Link:"/gallery/animals/no1"}]}}},{id:2,AlbumName:"Nature",CoverImage:"Gallery/Nature/Nature.jpg",Link:{pathname:"/gallery/nature",myparams:{id:3,AlbumName:"Travel"}}},{id:3,AlbumName:"People",CoverImage:"Gallery/People/People.jpg",Link:{pathname:"/gallery/people",myparams:{id:4,AlbumName:"People"}}},{id:4,AlbumName:"Sports",CoverImage:"Gallery/Sports/Sports.jpg",Link:{pathname:"/gallery/sports",myparams:{id:5,AlbumName:"Sports"}}},{id:5,AlbumName:"Portrait",CoverImage:"Gallery/Portrait/Portrait.jpg",Link:{pathname:"/gallery/portrait",myparams:{id:6,AlbumName:"Portrait"}}},{id:6,AlbumName:"Architecture",CoverImage:"Gallery/Architecture/Architecture.jpg",Link:{pathname:"/gallery/architecture",myparams:{id:7,AlbumName:"Architecture"}}}]),l=Object(i.a)(o,2),u=l[0];function d(e){e.deltaY<0?0==window.scrollY&&(e.preventDefault(),t.current.scrollLeft-=.02*t.current.scrollWidth,a.reachRightEnd=0,a.previousValuesForScrollLeft0=0,a.previousValuesForScrollLeft1=0,a.previousValuesForScrollLeft2=0):0==a.reachRightEnd&&(e.preventDefault(),t.current.scrollLeft+=.02*t.current.scrollWidth,a.previousValuesForScrollLeft2=a.previousValuesForScrollLeft1,a.previousValuesForScrollLeft1=a.previousValuesForScrollLeft0,a.previousValuesForScrollLeft0=t.current.scrollLeft,a.previousValuesForScrollLeft0==a.previousValuesForScrollLeft1&&a.previousValuesForScrollLeft1==a.previousValuesForScrollLeft2&&a.previousValuesForScrollLeft1>10&&(a.reachRightEnd=1))}return l[1],Object(c.useEffect)((function(){return t.current.addEventListener("wheel",d),function(){t.current&&t.current.removeEventListener("wheel",d)}}),[]),Object(n.jsxs)("div",{className:"galleryRoot",ref:t,children:[u.map((function(e){return Object(n.jsxs)("div",{className:"album",children:[Object(n.jsx)("div",{className:"imageWrapper",children:Object(n.jsx)("img",{src:e.CoverImage})}),Object(n.jsx)("div",{className:"albumNameWrapper",children:Object(n.jsxs)("p",{className:"albumName",children:[" ",e.AlbumName]})}),Object(n.jsx)("div",{className:"clickForMoreWrapper",children:Object(n.jsx)(j.b,{className:"clickForMore",to:e.Link,children:" MORE PHOTOS "})})]},e.id)})),Object(n.jsx)("div",{className:"arrowForwardIconWrapper",onClick:function(e){var a=t.current.scrollWidth,n=a/u.length;t.current.scrollLeft+=n,t.current.scrollLeft%n!=0&&(t.current.scrollLeft=Math.ceil(t.current.scrollLeft/n)*n),console.log(n,t.current.scrollLeft,a)},children:Object(n.jsx)(Va.a,{style:{color:"rgb(255,255,255)",fontSize:"20px"}})}),Object(n.jsx)("div",{className:"arrowBackIconWrapper",onClick:function(e){var a=t.current.scrollWidth,n=(window.innerWidth,a/u.length);t.current.scrollLeft-=n,t.current.scrollLeft%n!=0&&(t.current.scrollLeft=Math.ceil(t.current.scrollLeft/n)*n)},children:Object(n.jsx)(Ua.a,{style:{color:"rgb(255,255,255)",fontSize:"20px"}})})]})};a(163);var Ha=function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){return C.a.get(D,{params:{action:"getList"},headers:{"Content-Type":"application/json"}}).then((function(e){!0===e.data.isSuccess&&(console.log(e.data),s(e.data.querySet))})).catch((function(e){Y(e,"Blog.js","useEffect")})),function(){}}),[]),Object(c.useEffect)((function(){for(var e=0;e<r.length;++e){var t=document.createElement("div");t.className="blogWrapper";var a=document.createElement("div");a.className="timeAndTitle";var n=document.createElement("p");n.className="date";var c=document.createElement("span"),s=new Date(r[e].createdAt);c.innerHTML="".concat(s.getFullYear(),"-").concat(s.getMonth(),"-").concat(s.getDate(),"                                    ").concat(s.getHours(),":").concat(s.getMinutes(),":").concat(s.getSeconds()),n.appendChild(c),a.appendChild(n);var o=document.createElement("p");o.className="title",o.innerHTML=r[e].title,a.appendChild(o);var i=document.createElement("div");i.className="content",i.innerHTML=r[e].content,t.appendChild(a),t.appendChild(i),document.getElementsByClassName("blogRoot")[0].appendChild(t),console.log(r[e].createdAt)}}),[r]),Object(n.jsx)("div",{className:"blogRoot"})},Ya=a(37),qa=a.n(Ya),Ja=a(77),Ka=a(78),Qa=a(81),Xa=a(80),$a=function(e){Object(Qa.a)(a,e);var t=Object(Xa.a)(a);function a(e){Object(Ja.a)(this,a);var n=qa.a.$('<div class="w-e-menu">\n            <style>\n              .w-e-menu .mathsvgIcon {\n                  width: 30px;\n                  height: 30px;\n                  filter: invert(61%) sepia(12%) saturate(12%) hue-rotate(346deg) brightness(92%) contrast(89%);\n              }\n\n              .mathsvgIcon:hover {\n                  filter: invert(34%) sepia(77%) saturate(347%) hue-rotate(71deg) brightness(91%) contrast(92%);\n              }\n            </style>\n            <img src="/kityformula/assets/images/ftfunct.svg" class="mathsvgIcon iconfont"/>\n        </div>\n\n        ');return t.call(this,n,e)}return Object(Ka.a)(a,[{key:"clickHandler",value:function(){var e=function(e){var t="kityformula_"+Math.ceil(10*Math.random()),a="kityformula-btn"+Math.ceil(10*Math.random());return{width:900,height:560,tabs:[{title:e.i18next.t("menus.panelMenus.formula.\u63d2\u5165\u516c\u5f0f"),tpl:'<div>\n                  <iframe id="'.concat(t,'" class="iframe" height="500px" width="100%" frameborder="0" scrolling="no" src="/kityformula/index.html"></iframe>\n                  <div class="w-e-button-container">\n                      <button id="').concat(a,'" class="right">\n                          ').concat(e.i18next.t("\u786e\u8ba4\u63d2\u5165"),"\n                      </button>\n                  </div>\n              </div>"),events:[{selector:"#"+a,type:"click",fn:function(){var a=document.getElementById(t).contentWindow.kfe.execCommand("get.source");return a=a.replace(/\s/g,""),e.txt.append('<img class="formula" src="https://latex.codecogs.com/gif.latex?'+a+'" data-latex="'+a+'" />'),!0}}]}]}}(window.editor);new qa.a.Panel(this,e).create()}},{key:"tryChangeActive",value:function(){}}]),a}(qa.a.PanelMenu);a(164);var Za=Object(N.b)((function(e){return{}}),(function(e){return{}}))((function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)([]),l=Object(i.a)(o,2),u=(l[0],l[1]),d=Object(c.useState)([]),j=Object(i.a)(d,2),m=j[0],b=j[1];return Object(c.useEffect)((function(){window.editor=new qa.a("#editorContent");return window.editor.menus.extend("kityformulaKey",$a),window.editor.config.menus=window.editor.config.menus.concat("kityformulaKey"),window.editor.config.uploadImgShowBase64=!0,window.editor.config.uploadImgMaxLength=5,window.editor.config.zIndex=100,window.editor.config.height=500,window.editor.config.onchange=function(e){b(e)},window.editor.create(),u(window.editor),function(){u([])}}),[]),Object(n.jsxs)("form",{className:"newBlogRoot",onSubmit:function(t){t.preventDefault();var a=localStorage.getItem("token");if(a){var n={title:r,content:m},c={params:{token:a},headers:{"Content-Type":"application/json"}};C.a.post(P,JSON.stringify(n),c).then((function(t){!0===t.data.isSuccess&&e.history.push("/blog")})).catch((function(e){Y(e,"NewBlog.js","handleOnSubmit")}))}else alert("please log in to post")},children:[Object(n.jsxs)("div",{className:"titleWrapper",children:[Object(n.jsx)("input",{className:"title",type:"text",name:"title",value:r,onChange:function(e){e.preventDefault();var t=e.target.value;s(t)},placeholder:"input title here"}),Object(n.jsx)("input",{className:"submit",type:"submit",value:"submit"})]}),Object(n.jsx)("div",{id:"editorContent"})]})}));a(165);var en=function(e){function t(e,t){try{return e()}catch(a){return t}}var a,r=Object(c.useState)([]),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(c.useState)(),d=Object(i.a)(u,2),m=d[0],b=d[1],p=Object(c.useState)({}),h=Object(i.a)(p,2),f=h[0],O=h[1],g=Object(c.useRef)(null),v={scrollBarPosition:0,rootRef:null,reachRightEnd:0,previousValuesForScrollLeft0:null,previousValuesForScrollLeft1:null,previousValuesForScrollLeft2:null};function x(e){e.deltaY<0?0==window.scrollY&&(e.preventDefault(),g.current.scrollLeft-=.02*g.current.scrollWidth,v.reachRightEnd=0,v.previousValuesForScrollLeft0=0,v.previousValuesForScrollLeft1=0,v.previousValuesForScrollLeft2=0):0==v.reachRightEnd&&(e.preventDefault(),g.current.scrollLeft+=.02*g.current.scrollWidth,v.previousValuesForScrollLeft2=v.previousValuesForScrollLeft1,v.previousValuesForScrollLeft1=v.previousValuesForScrollLeft0,v.previousValuesForScrollLeft0=g.current.scrollLeft,v.previousValuesForScrollLeft0==v.previousValuesForScrollLeft1&&v.previousValuesForScrollLeft1==v.previousValuesForScrollLeft2&&(v.reachRightEnd=1))}return Object(c.useEffect)((function(){if(e.location.myparams){var a=t((function(){return e.location.myparams.DataArray}),"undefined");"undefined"!==a&&l(a);var n=t((function(){return e.location.myparams.ImageList}),"undefined");"undefined"!==n&&O(n)}return b(e.match.params.category),function(){}}),[]),Object(c.useEffect)((function(){console.log("hello data received",f)}),[f]),Object(c.useEffect)((function(){return g.current.addEventListener("wheel",x),function(){g.current&&g.current.removeEventListener("wheel",x)}}),[]),o&&(a=o.map((function(e){return Object(n.jsxs)("div",{className:"categoryItem",children:[Object(n.jsx)("img",{src:e.CoverImage}),Object(n.jsx)("div",{className:"categoryItemNameWrapper",children:Object(n.jsxs)("p",{className:"categoryItemName",children:[" ",e.PlaceName," "]})}),Object(n.jsx)("div",{className:"clickForMoreWrapper",children:Object(n.jsx)(j.b,{className:"clickForMore",to:e.Link,children:" MORE PHOTOS "})})]},e.id)}))),Object(n.jsxs)("div",{className:"subCategoryRoot",children:[Object(n.jsx)("div",{className:"subCategoryName",children:m?Object(n.jsxs)("p",{children:[" ",m," "]}):Object(n.jsx)("p",{children:" no data receieved from server "})}),Object(n.jsxs)("div",{className:"categoryItems",ref:g,children:[a,Object(n.jsx)("div",{className:"arrowForwardIconWrapper",onClick:function(e){var t=g.current.scrollWidth,a=t/o.length;g.current.scrollLeft+=a,g.current.scrollLeft%a!=0&&(g.current.scrollLeft=Math.ceil(g.current.scrollLeft/a)*a),console.log(a,g.current.scrollLeft,t)},children:Object(n.jsx)(Va.a,{style:{color:"rgb(255,255,255)",fontSize:"20px"}})}),Object(n.jsx)("div",{className:"arrowBackIconWrapper",onClick:function(e){var t=g.current.scrollWidth,a=(window.innerWidth,t/o.length);g.current.scrollLeft-=a,g.current.scrollLeft%a!=0&&(g.current.scrollLeft=Math.ceil(g.current.scrollLeft/a)*a)},children:Object(n.jsx)(Ua.a,{style:{color:"rgb(255,255,255)",fontSize:"20px"}})})]})]})};a(166);var tn=function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(),l=Object(i.a)(o,2),u=l[0],d=l[1];return Object(c.useEffect)((function(){if(e.location.myparams){var t=B((function(){return e.location.myparams.ImageArray}),"undefined");"undefined"!==t&&s(t)}return d(e.match.params.place),function(){}}),[]),Object(n.jsxs)("div",{className:"imageListViewRoot",children:[Object(n.jsx)("div",{className:"albumName",children:Object(n.jsxs)("p",{children:[" ",u," "]})}),Object(n.jsx)("div",{className:"imgArray",children:r.map((function(t,a){return Object(n.jsx)("div",{className:"album",children:Object(n.jsx)("img",{src:t,onClick:function(t){return n=a,void e.history.push({pathname:"/gallery/travel/taiwan/".concat(n),myparams:{ImageArray:r}});var n}})},a)}))})]})};a(167);var an=function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(0),l=Object(i.a)(o,2),u=l[0],d=l[1],j=Object(c.useRef)(null),m=Object(c.useRef)(null),b={reachRightEnd:0,previousValuesForScrollLeft0:null,previousValuesForScrollLeft1:null,previousValuesForScrollLeft2:null};function p(e){return h.apply(this,arguments)}function h(){return(h=Object(Oe.a)(fe.a.mark((function e(t){var a;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Number(window.imageIdSelted)+Number(t),console.log(window.ImageArrayLength),window.ImageArrayLength&&(a>window.ImageArrayLength-1?a=window.ImageArrayLength-1:a<0&&(a=0)),console.log(a),window.imageIdSelted=Number(a),d(window.imageIdSelted),e.abrupt("return",window.imageIdSelted);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){if(f(),g(),window.imageIdSelted=Number(0),e.location.myparams){var t=B((function(){return e.location.myparams.ImageArray}),"undefined");"undefined"!==t&&s(t)}return d(e.match.params.imageId),function(){O(),v()}}),[]),Object(c.useEffect)((function(){console.log("ImageArray.length : ",r.length);var e=j.current.scrollWidth/r.length*u;e+window.innerWidth<j.current.scrollWidth?j.current.scrollLeft=e-window.innerWidth/2:j.current.scrollLeft=j.current.scrollWidth-window.innerWidth}),[u]),Object(c.useEffect)((function(){console.log("ImageArray.length : ",r.length),window.ImageArrayLength=r.length}),[r]);var f=function(e){j.current.addEventListener("wheel",y)},O=function(e){j.current&&j.current.removeEventListener("wheel",y)},g=function(e){m.current.addEventListener("wheel",x)},v=function(e){m.current&&m.current.removeEventListener("wheel",x)},x=function(){var e=Object(Oe.a)(fe.a.mark((function e(t){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(t.deltaY>0)){e.next=6;break}return e.next=4,p(1);case 4:e.next=8;break;case 6:return e.next=8,p(-1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function y(e){e.deltaY<0?0==window.scrollY&&(e.preventDefault(),j.current.scrollLeft-=.02*j.current.scrollWidth,b.reachRightEnd=0,b.previousValuesForScrollLeft0=0,b.previousValuesForScrollLeft1=0,b.previousValuesForScrollLeft2=0):0==b.reachRightEnd&&(e.preventDefault(),j.current.scrollLeft+=.02*j.current.scrollWidth,b.previousValuesForScrollLeft2=b.previousValuesForScrollLeft1,b.previousValuesForScrollLeft1=b.previousValuesForScrollLeft0,b.previousValuesForScrollLeft0=j.current.scrollLeft,b.previousValuesForScrollLeft0==b.previousValuesForScrollLeft1&&b.previousValuesForScrollLeft1==b.previousValuesForScrollLeft2&&b.previousValuesForScrollLeft1>10&&(b.reachRightEnd=1))}return Object(n.jsxs)("div",{className:"imageDetalViewRoot",children:[Object(n.jsx)("input",{type:"checkbox",id:"imageDetalViewRootCheckbox"}),Object(n.jsxs)("div",{className:"imageDetail",ref:m,children:[Object(n.jsx)("img",{src:r[u]}),Object(n.jsx)("div",{className:"arrowForwardIconWrapper",onClick:function(e){var t=u+1;t>r.length-1&&(t=r.length-1),d(t)},children:Object(n.jsx)(Va.a,{style:{color:"rgb(255,255,255)",fontSize:"20px"}})}),Object(n.jsx)("div",{className:"arrowBackIconWrapper",onClick:function(e){var t=u-1;t<0&&(t=0),d(t)},children:Object(n.jsx)(Ua.a,{style:{color:"rgb(255,255,255)",fontSize:"20px"}})}),Object(n.jsx)("label",{className:"icoMenuWrapper",for:"imageDetalViewRootCheckbox",children:Object(n.jsx)(ha.a,{style:{color:"rgb(255,255,255)",fontSize:"30px"}})})]}),Object(n.jsx)("div",{className:"imageThumbNails",ref:j,children:r.map((function(e,t){return Object(n.jsx)("div",{className:"album",children:Object(n.jsx)("img",{src:r[t],onClick:function(e){!function(e,t){d(t)}(0,t)},style:u==t?{borderStyle:"solid",borderWidth:"2px",borderColor:"red"}:{}})},t)}))})]})};a(168);var nn=Object(N.b)((function(e){return{}}),(function(e){return{}}))((function(e){return Object(n.jsx)("form",{className:"followMeRoot",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("p",{className:"line",children:"copy following url to get the latest blog"}),Object(n.jsxs)("p",{className:"line",children:["api_url : ",T,"/api/blog?action=thumbNailOfLatest"]}),Object(n.jsx)("p",{className:"line",children:Object(n.jsx)("span",{children:" return data :  "})}),Object(n.jsx)("div",{className:"imageWrappers",children:Object(n.jsx)("img",{src:"/Blog/returnData.png",alt:""})})]})})})),cn=(a(169),"Subscription.js");var rn=function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)([]),l=Object(i.a)(o,2),u=l[0],d=l[1];return Object(c.useEffect)((function(){return C.a.get(z,{params:{action:"getList"},headers:{"Content-Type":"application/json"}}).then((function(e){if(!0===e.data.isSuccess){for(var t=[],a=0;a<e.data.querySet.length;a++)t.push(e.data.querySet[a].api_url);s(t)}})).catch((function(e){Y(e,cn,"useEffect")})),function(){}}),[]),Object(c.useEffect)((function(){if(r.length){for(var e=[],t={params:{},headers:{"Content-Type":"application/json"}},a=0;a<r.length;a++){var n=C()({method:"get",url:r[a],config:t});e.push(n)}return C.a.all(e).then(C.a.spread((function(){for(var e=[],t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];for(var c=0;c<a.length;c++){var r={};if(console.log(a[c]),!1===a[c].data.isSuccess)break;r.sSuccess=a[c].data.isSuccess,r.imageList=a[c].data.imageList,r.page_url=a[c].data.page_url,r.text=a[c].data.text,e.push(r)}d(e)}))).catch((function(e){Y(e,cn,"")})),function(){}}}),[r]),Object(c.useEffect)((function(){for(var e=0;e<u.length;++e){var t=document.createElement("div");t.className="content",t.innerHTML=u[e].text;var a=document.createElement("a");a.href=u[e].page_url,a.className="readmore",a.innerHTML="readmore";var n=document.createElement("div");n.className="blogWrapper",n.appendChild(t),n.appendChild(a),document.getElementsByClassName("subscriptionRoot")[0].appendChild(n)}}),[u]),Object(n.jsx)("div",{className:"subscriptionRoot"})};a(170);var sn=function(e){var t=Object(c.useState)(),a=Object(i.a)(t,2),r=a[0],s=a[1];return Object(n.jsx)("div",{className:"newSubscriptionRoot",children:Object(n.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault();var a={params:{token:localStorage.getItem("token")},headers:{"Content-Type":"application/json"}},n={api_url:r};C.a.post(z,JSON.stringify(n),a).then((function(t){console.log(t),!0===t.data.isSuccess&&e.history.push("/subscription")})).catch((function(e){Y(e,"NewSubscription.js","handleOnSubmitForm")}))},autoComplete:"off",children:[Object(n.jsx)("div",{className:"inputWrapper",children:Object(n.jsx)("input",{type:"text",value:r,name:"api_url",placeholder:"please input the api_url",onChange:function(e){e.preventDefault();e.target.name;var t=e.target.value;s(t)}})}),Object(n.jsx)("div",{className:"submit",children:Object(n.jsx)("input",{type:"submit",value:"submit"})})]})})};a(171);var on=function(e){return Object(n.jsxs)("div",{className:"projectRoot",children:[Object(n.jsx)("p",{className:"clickBelow",children:"click below to visit project in github"}),Object(n.jsx)("a",{className:"link",href:"https://github.com/brianwchh/decentrialized-social-networking-software-system_1",children:"https://github.com/brianwchh/decentrialized-social-networking-software-system_1"})]})};var ln=function(){return Object(n.jsx)("div",{className:"routerRoot",children:Object(n.jsx)(Bt.a,{children:Object(n.jsxs)(Bt.c,{children:[Object(n.jsx)(Bt.a,{path:"/blog",exact:!0,component:Ha}),Object(n.jsx)(Bt.a,{path:"/blog/newblog",component:Za}),Object(n.jsx)(Bt.a,{path:"/gallery",exact:!0,component:Ba}),Object(n.jsx)(Bt.a,{path:"/gallery/:category",exact:!0,component:en}),Object(n.jsx)(Bt.a,{path:"/gallery/:category/:place",exact:!0,component:tn}),Object(n.jsx)(Bt.a,{path:"/gallery/:category/:place/:imageId",component:an}),Object(n.jsx)(Bt.a,{path:"/blog/followme",component:nn}),Object(n.jsx)(Bt.a,{path:"/subscription",component:rn}),Object(n.jsx)(Bt.a,{path:"/newsubscription",component:sn}),Object(n.jsx)(Bt.a,{path:"/course",exact:!0,component:Ta}),Object(n.jsx)(Bt.a,{path:"/course/:id",component:Ga}),Object(n.jsx)(Bt.a,{path:"/profile/login",component:ca}),Object(n.jsx)(Bt.a,{path:"/profile/register",component:na}),Object(n.jsx)(Bt.a,{path:"/project",component:on}),Object(n.jsx)(Bt.a,{path:"/",exact:!0,component:Qt})]})})})};var un=Object(N.b)((function(e){return{isExpandMenu:e.websocket.isExpandMenu,loginStatus:e.auth.status}}),(function(e){return{authCheckTokenVaidAction:function(){return e(ce())}}}))((function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){return window.lastScrollTop=0,window.addEventListener("scroll",(function(){var e=window.pageYOffset||document.documentElement.scrollTop;e>window.lastScrollTop?s(!1):s(!0),window.lastScrollTop=e<=0?0:e}),!1),e.authCheckTokenVaidAction(),function(){}}),[]),Object(n.jsxs)("div",{className:"appRoot",children:[Object(n.jsx)("div",{className:"navigationNcontent",children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)("div",{className:"navigationWrapper",style:{position:1==e.isExpandMenu||1==r?"fixed":"relative"},children:Object(n.jsx)(zt,{})}),Object(n.jsx)("div",{className:"contentWrapper",style:{paddingTop:1==e.isExpandMenu||1==r?"50px":"0px"},children:Object(n.jsx)(ln,{})})]})}),Object(n.jsx)("div",{className:"footerWrapper",children:Object(n.jsx)(Ut,{})})]})})),dn=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,185)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},jn=a(36),mn=a(79),bn=function(e,t){return Object(Fe.a)(Object(Fe.a)({},e),t)},pn={status:x,myUserName:null,userID:null,userImage:null},hn=function(e,t){return e},fn=function(e,t){return bn(e,t)},On=function(e,t){return bn(e,t)},gn=function(e,t){return bn(e,t)},vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return console.log("action.type = ".concat(t.type)),console.log(t.data),fn(e,t.data);case g:return console.log("action.type = ".concat(t.type)),console.log(t.data),On(e,t.data);case v:return gn(e,t.data);default:return hn(e,t.data)}},xn={websocketConn:null,toggleSignal:!1,selectedContact:"",selectedGroup:"",selectedChatRoom:"",isGroupChat:!1,isMyChatRoom:!1,isContactChat:!1,isExpandMenu:!1,newMsgReadyToggle:!1,remoteStream_ref:"",localStream_ref:"",mediaCallState:st,allContactList_keyIsIpId:{},isShowPanel:!0},yn=function(e,t){return console.log("saving websocket connection to store ..."),console.log(t),bn(e,t)},Nn=function(e,t){return bn(e,t)},wn=function(e,t){var a=!e.toggleSignal,n=Object(Fe.a)(Object(Fe.a)({},t),{toggleSignal:a});return bn(e,n)},Cn=function(e,t){var a=!1;a=1!=e.toggleSignal;var n=Object(Fe.a)(Object(Fe.a)({},t),{toggleSignal:a});return bn(e,n)},Sn=function(e,t){var a=!1;a=1!=e.toggleSignal;var n=Object(Fe.a)(Object(Fe.a)({},t),{toggleSignal:a});return bn(e,n)},kn=function(e,t){return bn(e,t)},Tn=function(e,t){return console.log("********setNewMsgToggle in websocket/reducer.js*****************"),console.log(e),console.log(t),bn(e,t)},Rn=function(e,t){return bn(e,t)},In=function(e,t){return bn(e,t)},An=function(e,t){return bn(e,t)},Ln=function(e,t){return bn(e,t)},_n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return yn(e,t.data);case oe:return Nn(e,t.data);case ue:return Cn(e,t.data);case de:return Sn(e,t.data);case le:return kn(e,t.data);case ie:return Tn(e,t.data);case me:return Rn(e,t.data);case be:return In(e,t.data);case je:return An(e,t.data);case pe:return Ln(e,t.data);default:return wn(e,t.data)}},En=Object(jn.c)({auth:vn,websocket:_n}),Mn=Object(jn.d)(En,Object(jn.a)(mn.a));o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(N.a,{store:Mn,children:Object(n.jsx)(un,{})})}),document.getElementById("root")),dn()}]),[[172,1,2]]]);
//# sourceMappingURL=main.d3d1f14d.chunk.js.map